# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

---

## å€‰åº«æ¦‚è¦½

é€™æ˜¯ä¸€å€‹**å¤šæ›¸ç±å¯«ä½œå°ˆæ¡ˆé›†åˆ**ï¼ŒåŒ…å«æŠ€è¡“æ›¸ç±ã€å­¸ç¿’ç­†è¨˜å’Œæ–‡å­¸ä½œå“ã€‚

### å°ˆæ¡ˆæ¸…å–®

| å°ˆæ¡ˆ | é¡å‹ | ç‹€æ…‹ | èªªæ˜ |
|------|------|------|------|
| `AZ-900/` | æŠ€è¡“æ›¸ç± | âœ… å®Œæˆ | Azure åŸºç¤å»ºè¨­å¯¦æˆ°ï¼ˆ8ç« ï¼Œ~108Kå­—ï¼‰ |
| `software-engineering-study/` | å­¸ç¿’ç­†è¨˜ | ğŸ”„ é€²è¡Œä¸­ | å¯¦è¸è»Ÿé«”å·¥ç¨‹ç¬¬9ç‰ˆå­¸ç¿’ç­†è¨˜ï¼ˆ30ç« ï¼‰ |
| `bdd-in-action/` | æŠ€è¡“æ›¸ç± | ğŸ”„ é€²è¡Œä¸­ | BDD å¯¦æˆ°æŒ‡å—ï¼ˆ68%å®Œæˆï¼Œ~239Kå­—ï¼‰ |
| `claude-agent-sdk-in-action/` | æŠ€è¡“æ›¸ç± | ğŸ”„ é€²è¡Œä¸­ | Claude Agent SDK ä¼æ¥­é–‹ç™¼å¯¦æˆ°ï¼ˆ9ç« å®Œæˆï¼‰ |
| `claude-code-infrastructure-in-action/` | æŠ€è¡“æ›¸ç± | ğŸ”„ é€²è¡Œä¸­ | Claude Code é–‹ç™¼ç’°å¢ƒå¯¦æˆ°ï¼ˆ13ç« å®Œæˆï¼‰ |
| `claude-skills-book/` | æŠ€è¡“æ›¸ç± | âœ… å®Œæˆ | Claude æŠ€èƒ½ç³»çµ±æ›¸ï¼ˆ10ç« å®Œæˆï¼‰ |
| `dbt-migration-in-action/` | æŠ€è¡“æ›¸ç± | âœ… å®Œæˆ | DBT é·ç§»å¯¦æˆ°ï¼ˆ12ç« å®Œæˆï¼‰ |
| `pocket-psychologist/` | å¿ƒç†è‡ªåŠ©æ›¸ | âœ… å®Œæˆ | å£è¢‹å¿ƒç†å¸«ï¼ˆ200ç¯‡ï¼Œ~80Kå­—ï¼‰ |
| `hakka-merchant-novel/` | æ­·å²å°èªª | â³ è¦åŠƒä¸­ | å®¢å•†é¢¨äº‘ï¼ˆäºŒæœˆæ²³é¢¨æ ¼ï¼Œç›®æ¨™80-120è¬å­—ï¼‰ |
| `shanxi-merchant-chronicle/` | æ­·å²å°èªª | ğŸ”„ é€²è¡Œä¸­ | æ™‰å•†é¢¨é›²éŒ„ |
| `npc-consciousness-novel/` | å“²å­¸è¼•å°èªª | â³ è¦åŠƒä¸­ | å¹»å½±çš„èˆå°ï¼ˆç›®æ¨™30-50è¬å­—ï¼‰ |

---

## Git å·¥ä½œæµ

### åˆ†æ”¯å‘½å
```
claude/{project-name}-{sessionId}
```

### æäº¤æµç¨‹
```bash
# ä½¿ç”¨ HEREDOC æ ¼å¼åŒ–æäº¤ä¿¡æ¯
git commit -m "$(cat <<'EOF'
æ¨™é¡Œï¼šç°¡æ½”æè¿°

- å®Œæˆçš„å·¥ä½œ
- é‡è¦è®Šæ›´

Co-Authored-By: Claude <claude@anthropic.com>
EOF
)"

# æ¨é€å¿…é ˆä½¿ç”¨ -u æ¨™è¨˜
git push -u origin <branch-name>
```

### ç¶²çµ¡é‡è©¦ç­–ç•¥
- æŒ‡æ•¸é€€é¿ï¼š2s, 4s, 8s, 16s
- æœ€å¤šé‡è©¦ 4 æ¬¡

---

## å¯«ä½œé¢¨æ ¼æŒ‡å—

### æŠ€è¡“æ›¸ç±ï¼ˆManning "in Action" é¢¨æ ¼ï¼‰

é©ç”¨ï¼š`claude-agent-sdk-in-action/`, `claude-code-infrastructure-in-action/`, `bdd-in-action/`, `AZ-900/`, `dbt-migration-in-action/`

**æ ¸å¿ƒè¦æ±‚**ï¼š
1. **å°ˆæ¡ˆé©…å‹•**ï¼šæ¯ç« ä»¥å…·é«”ä¼æ¥­å ´æ™¯é–‹å§‹
2. **æ¼¸é€²å¼æ•™å­¸**ï¼šå¾åŸºç¤åˆ°é€²éšï¼Œé€æ­¥å¢åŠ è¤‡é›œæ€§
3. **å®Œæ•´å¯é‹è¡Œ**ï¼šæ‰€æœ‰ç¨‹å¼ç¢¼ç¯„ä¾‹å¯ç›´æ¥åŸ·è¡Œ
4. **è©³ç´°è¨»è§£**ï¼šä½¿ç”¨ â€¹1â€º, â€¹2â€º æ¨™è¨˜é—œéµç¨‹å¼ç¢¼
5. **è§£é‡‹ã€Œç‚ºä½•ã€**ï¼šèªªæ˜è¨­è¨ˆæ±ºç­–çš„åŸå› 
6. **ç¬¬äºŒäººç¨±**ï¼šä½¿ç”¨ã€Œä½ ã€ã€ã€Œæˆ‘å€‘ã€çš„è¦ªåˆ‡èªæ°£
7. **ç« ç¯€ç¸½çµ**ï¼šå›é¡§æ ¸å¿ƒæ¦‚å¿µï¼Œé å‘Šä¸‹ä¸€ç« 

**æ¨™æº–çµæ§‹**ï¼š
```
{book}/
â”œâ”€â”€ README.md              # å°ˆæ¡ˆç¸½è¦½
â”œâ”€â”€ manuscript/
â”‚   â””â”€â”€ chapters/          # å„ç« ç¯€ .md æª”æ¡ˆ
â”œâ”€â”€ code-examples/         # å®Œæ•´å¯é‹è¡Œç¨‹å¼ç¢¼
â”œâ”€â”€ diagrams/              # Mermaid æ¶æ§‹åœ–
â””â”€â”€ resources/             # è£œå……è³‡æº
```

### å¿ƒç†è‡ªåŠ©æ›¸ï¼ˆMillie Hardie é¢¨æ ¼ï¼‰

é©ç”¨ï¼š`pocket-psychologist/`

**æ ¸å¿ƒè¦æ±‚**ï¼š
- æ¯ç¯‡ 300-400 å­—ï¼ˆ1 åˆ†é˜å¯è®€å®Œï¼‰
- é–‹å ´ï¼šã€Œæˆ‘æ˜¯å¿ƒç†å¸«ï¼Œçµ¦æˆ‘ 60 ç§’ã€
- ä½¿ç”¨è¦–è¦ºåŒ–æ¯”å–»ï¼ˆèŒ¶å£ºã€æ°£çƒã€æ£®æ—è·¯å¾‘ï¼‰
- å°è©±é«”æˆ–ç¬¬äºŒäººç¨±
- å»ç—…ç†åŒ–èªè¨€ï¼ˆã€Œæ°´ç‡’é–‹äº†ã€è€Œéã€Œä½ æœ‰éšœç¤™ã€ï¼‰

**ç¦å¿Œ**ï¼š
- âŒ ã€Œç ”ç©¶é¡¯ç¤º...ã€ï¼ˆå¤ªå­¸è¡“ï¼‰
- âŒ ã€Œä½ æ‡‰è©²...ã€ï¼ˆå¤ªèªªæ•™ï¼‰
- âŒ ã€Œä¸€åˆ‡éƒ½æœƒå¥½çš„ã€ï¼ˆæœ‰æ¯’æ­£å‘ï¼‰
- âŒ å°ˆæ¥­è¡“èªä¸åŠ è§£é‡‹

### æ­·å²å°èªªï¼ˆäºŒæœˆæ²³é¢¨æ ¼ï¼‰

é©ç”¨ï¼š`hakka-merchant-novel/`, `shanxi-merchant-chronicle/`

**æ ¸å¿ƒè¦æ±‚**ï¼š
- ç¬¬ä¸€äººç¨±è‡ªè¿°ï¼ˆä¸»äººç¿å›æ†¶ä¸€ç”Ÿï¼‰
- æ–‡ç™½ç›¸é–“çš„èªè¨€é¢¨æ ¼
- æ­·å²äº‹ä»¶åš´æ ¼éµå®ˆ `timeline/` æ™‚é–“ç·š
- äººç‰©è¨­å®šæŸ¥é–± `characters/` ç›®éŒ„

**æ¨™æº–çµæ§‹**ï¼š
```
{novel}/
â”œâ”€â”€ README.md
â”œâ”€â”€ manuscript/
â”‚   â”œâ”€â”€ outline.md         # è©³ç´°å¤§ç¶±
â”‚   â””â”€â”€ chapters/          # å„ç« ç¯€
â”œâ”€â”€ characters/            # äººç‰©è¨­å®š
â”‚   â”œâ”€â”€ protagonist.md     # ä¸»è§’
â”‚   â”œâ”€â”€ family.md          # å®¶æ—
â”‚   â””â”€â”€ historical.md      # æ­·å²äººç‰©
â”œâ”€â”€ timeline/              # æ­·å²æ™‚é–“ç·š
â””â”€â”€ research/              # èƒŒæ™¯ç ”ç©¶
```

### å“²å­¸è¼•å°èªª

é©ç”¨ï¼š`npc-consciousness-novel/`

**æ ¸å¿ƒè¦æ±‚**ï¼š
- é¦™æœˆç¾å¤œå¼ç´°è†©æ—¥å¸¸æå¯«
- é€šéè§’è‰²ç¶“æ­·å¼•å‡ºå“²å­¸å•é¡Œï¼ˆä¸èªªæ•™ï¼‰
- å¤šè¦–è§’æ•˜äº‹
- é–‹æ”¾å¼çµå±€

---

## åœ–è¡¨è¦ç¯„

æ‰€æœ‰åœ–è¡¨ä½¿ç”¨ Mermaid èªæ³•ï¼š

```mermaid
graph TB
    A[ä¸»ç³»çµ±] --> B[å­æ¨¡çµ„ 1]
    A --> C[å­æ¨¡çµ„ 2]
    style A fill:#f9f,stroke:#333
```

---

## ç¨‹å¼ç¢¼è¦ç¯„

### Pythonï¼ˆAgent SDK æ›¸ç±ï¼‰
```python
class RefactoringCoordinator:
    """
    â€¹1â€º é‡æ§‹å”èª¿å™¨ - è² è²¬ç®¡ç†é‡æ§‹æµç¨‹

    æ ¸å¿ƒè·è²¬ï¼š
    1. æƒæç¨‹å¼ç¢¼åº«
    2. å»ºç«‹ Subagents
    3. æ”¶é›†çµæœ
    """
    def __init__(self, api_key: str, codebase_path: str):
        # â€¹2â€º åˆå§‹åŒ–ä¸» Agent
        self.main_agent = Agent(...)
```

### TypeScriptï¼ˆInfrastructure æ›¸ç±ï¼‰
```typescript
// â€¹1â€º è¦å‰‡å¼•æ“æ ¸å¿ƒ
interface SkillRule {
    name: string;
    triggers: TriggerConfig;
    priority: number;
}
```

---

## å¿«é€Ÿåƒè€ƒ

### é–‹å§‹æ–°ç« ç¯€å‰
- [ ] æŸ¥é–±è©²æ›¸çš„ `README.md` ç¢ºèªé€²åº¦
- [ ] ç¢ºèªç« ç¯€å­¸ç¿’ç›®æ¨™
- [ ] æº–å‚™ç¨‹å¼ç¢¼ç¯„ä¾‹æˆ–äººç‰©/æ™‚é–“ç·šè³‡æ–™
- [ ] ä½¿ç”¨ TodoWrite å»ºç«‹ä»»å‹™æ¸…å–®

### å®Œæˆç« ç¯€å¾Œ
- [ ] ç¢ºèªå­—æ•¸é”æ¨™
- [ ] Git æäº¤ä¸¦ push
- [ ] æ›´æ–°è©²æ›¸çš„é€²åº¦è¿½è¹¤
