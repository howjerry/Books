# dbt Migration in Action

**AI-Powered Database Transformation with Claude Code**
*用 Claude Code 打造智慧化資料庫轉型 - 50 個 SQL 遷移的實戰故事*

## 書籍資訊

- **作者**: [Author Name]
- **出版社**: Manning Publications
- **系列**: In Action Series
- **預估頁數**: 300-350 頁
- **難度**: 中級到進階
- **目標讀者**: 數據工程師、資料庫管理員、DevOps 工程師

## 內容概述

本書以真實的 M3 公司案例為基礎，完整記錄了如何運用 Claude Code 智慧化地完成 50 個 SQL 檔案遷移到 dbt 的實戰經驗。不同於傳統的技術手冊，本書展示了一個「知識演進式」的 AI 協作模式，讓 AI 助手能夠從錯誤中學習、累積知識，最終實現高度自主化的遷移作業。

## 核心價值主張

✓ **真實案例驅動**: 基於 M3 公司實際生產環境的 50 個 SQL 遷移專案
✓ **知識演進模式**: 展示如何建立「會學習的 AI 助手」
✓ **可複用框架**: Migration Playbook 可應用於任何大規模遷移專案
✓ **完整生命週期**: 從第一次失敗到生產部署的完整旅程
✓ **生產就緒代碼**: 所有範例均經過實際驗證，可直接使用

## 學習成果

完成本書後，您將能夠：

- ✅ 使用 Claude Code 處理大規模資料庫遷移任務
- ✅ 建立並維護知識驅動的 Migration Playbook
- ✅ 設計有效的 AI 協作工作流程
- ✅ 實現自動化驗證與品質保證
- ✅ 將 dbt 最佳實踐應用於企業環境
- ✅ 建立可擴展的團隊知識資產

## 目標讀者

本書適合以下讀者：

**必備條件**:
- ✓ 熟悉 SQL 和關聯式資料庫
- ✓ 了解數據管道（Data Pipeline）概念
- ✓ 基本的命令列操作能力

**加分條件**:
- ✓ 有使用過 BigQuery 或其他雲端數據倉儲
- ✓ 了解 dbt 基本概念
- ✓ 曾經歷過系統遷移專案

**無需**:
- ✗ AI/ML 背景
- ✗ dbt 專家級知識
- ✗ Python/JavaScript 深度專業知識

## 書籍結構

### Part 1: 基礎篇 - 遷移挑戰與準備
**第 1 章**: 大規模遷移的挑戰與 AI 協作新範式
**第 2 章**: 認識 dbt 與 BigQuery 遷移目標
**第 3 章**: 環境設置與第一次嘗試

### Part 2: 核心技術篇 - 建立遷移系統
**第 4 章**: 建立遷移手冊（Migration Playbook）
**第 5 章**: 每日完全更新資料表遷移模式
**第 6 章**: 分區資料表（Partitioned Tables）遷移
**第 7 章**: 分片資料表（Sharded Tables）遷移
**第 8 章**: Schema、約束與 UDF 處理

### Part 3: 知識演進篇 - AI 學習與改進
**第 9 章**: 知識迭代循環 - 從錯誤中學習
**第 10 章**: 自我審查機制設計
**第 11 章**: 疑難排解模式庫

### Part 4: 自動化與部署篇
**第 12 章**: 自動化驗證流程
**第 13 章**: QA 與生產環境部署
**第 14 章**: 團隊協作與知識資產化

### 附錄
**附錄 A**: 完整 Migration Playbook 範本
**附錄 B**: dbt 與 SQL 語法對照表
**附錄 C**: 常見錯誤與解決方案
**附錄 D**: Claude Code 提示詞最佳實踐

## 技術堆疊

### 核心技術
- **AI 平台**: Claude Code, Anthropic Claude 3.5 Sonnet
- **數據倉儲**: Google BigQuery
- **轉換工具**: dbt (data build tool) 1.7+
- **程式語言**: SQL, Python 3.10+, Bash

### 開發與測試
- **版本控制**: Git, GitHub
- **測試框架**: pytest, dbt test
- **數據驗證**: Great Expectations (選用)

### 部署與監控
- **CI/CD**: GitHub Actions, Cloud Build
- **編排**: Apache Airflow, Cloud Composer
- **監控**: dbt Cloud, Looker

## 核心產出物

本書將帶領你建立以下可重用的產出物：

1. **Migration Playbook** - 完整的遷移手冊模板
2. **dbt 模型範例集** - 涵蓋 3 種主要模式的實作
3. **Sources 定義範本** - 標準化的外部資料來源定義
4. **自我審查清單** - 確保品質的檢查項目
5. **驗證腳本庫** - 自動化驗證工具集
6. **部署流程圖** - 完整的 CI/CD 配置

## 代碼範例

所有代碼範例均為：
- ✅ **生產就緒（Production-Ready）** 等級
- ✅ **經過實際驗證** 於 M3 公司環境
- ✅ **包含完整註解** 說明設計決策
- ✅ **遵循最佳實踐** dbt 和 BigQuery 標準
- ✅ **可直接使用** 於實際專案中

代碼範例位於 `code-examples/` 目錄，按章節組織。

## 特殊特色

### 🎯 知識演進式學習法
本書獨特之處在於展示「知識累積」的過程。你將看到：
- 第一次嘗試的失敗與教訓
- 如何從錯誤中提煉知識
- Migration Playbook 的逐步成長
- AI 助手如何從「新手」變為「專家」

### 📊 真實數據與指標
書中包含實際的績效數據：
- 遷移時間：手動 vs AI 協作的對比
- 錯誤率下降曲線
- 知識累積的量化指標
- 團隊生產力提升數據

### 🔄 迭代式實戰
每章都包含：
- **理論基礎** (20%)
- **實際操作** (50%)
- **錯誤分析** (15%)
- **最佳實踐** (15%)

## 線上資源

- **GitHub 儲存庫**: https://github.com/manning/dbt-migration-in-action
- **作者論壇**: https://forums.manning.com/
- **勘誤表**: 持續更新
- **補充材料**: 影片教學、進階主題

## 致謝

本書的案例來源於 M3 公司數據基盤團隊的實際工作經驗。特別感謝坂元工程師及團隊成員分享寶貴的實戰經驗。

## 授權

本書內容受版權保護 © 2025 Manning Publications
代碼範例採用 MIT 授權，可自由用於商業和個人專案

## 關於作者

[Author Bio - 待補充]

---

**準備好開始你的智慧化遷移之旅了嗎？** 讓我們從第一章開始，一起探索如何讓 AI 成為你最得力的遷移夥伴！

© 2025 Manning Publications. All rights reserved.
