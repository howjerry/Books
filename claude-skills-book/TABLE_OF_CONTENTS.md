# Claude Code Skills 實戰指南：打造智慧自動化工作流
## 完整目錄（Table of Contents）

> **技術書籍** | Manning "in Action" 系列
> **預計篇幅**: ~350-400 頁
> **預計閱讀時間**: 15-20 小時
> **代碼範例**: Python + TypeScript

---

## 📊 書籍統計

- **章節總數**: 10 章 + 前言 + 3 個附錄
- **總行數**: 19,593 行
- **主要章節**: 3 個部分（基礎篇、核心技術篇、生產部署篇）
- **代碼語言**: Python (70%), TypeScript/JavaScript (30%)

---

## 📖 目錄結構

### [前言 - Preface](#前言---preface-1)

- [為什麼寫這本書](#為什麼寫這本書)
- [這本書的目標](#這本書的目標)
- [誰應該讀這本書](#誰應該讀這本書)
- [如何使用這本書](#如何使用這本書)
  - [學習路徑](#學習路徑)
  - [代碼範例](#代碼範例)
  - [實踐練習](#實踐練習)
  - [線上資源](#線上資源)
- [約定與符號](#約定與符號)
- [致謝](#致謝)
- [關於作者](#關於作者)
- [本書的演進](#本書的演進)
- [開始你的旅程](#開始你的旅程)
- [聯繫方式](#聯繫方式)

---

## Part 1: 基礎篇

### [第 1 章：AI 自動化入門與 Claude Skills 概述](#第-1-章ai-自動化入門與-claude-skills-概述)

- **1.1 自動化的演進：從腳本到智能**
  - 1.1.1 傳統自動化的局限
  - 1.1.2 AI 驅動自動化的範式轉移
  - 1.1.3 數據說話：AI 自動化的影響

- **1.2 認識 Claude Code Skills**
  - 1.2.1 什麼是 Claude Code Skills？
  - 1.2.2 Skills 的核心架構
  - 1.2.3 Skills vs. Tools vs. MCP：釐清概念
  - 1.2.4 為什麼選擇 Claude Skills？

- **1.3 本書的主軸：WebGuard 測試系統**
  - 1.3.1 為什麼需要 WebGuard？
  - 1.3.2 WebGuard 的演進之路
  - 1.3.3 WebGuard 系統架構概覽
  - 1.3.4 學習路徑

- **1.4 Skills vs. 傳統工具：實戰對比**
  - 1.4.1 場景：檢查用戶登入流程
  - 1.4.2 維護成本對比
  - 1.4.3 複雜場景：處理動態內容
  - 1.4.4 對比總結表

- **1.5 實際應用案例**
  - 1.5.1 案例一：電子商務平台
  - 1.5.2 案例二：SaaS 平台監控
  - 1.5.3 案例三：金融服務合規測試
  - 1.5.4 ROI 分析模型

- **1.6 開始你的 Skills 之旅**
  - 1.6.1 本章學到了什麼
  - 1.6.2 關鍵要點
  - 1.6.3 實踐練習
  - 1.6.4 檢查點
  - 1.6.5 延伸閱讀

- **1.7 下一章預告**

### [第 2 章：開發環境設置與第一個 Skill](#第-2-章開發環境設置與第一個-skill)

- **2.1 開發環境設置**
  - 2.1.1 系統需求檢查
  - 2.1.2 安裝 Python
  - 2.1.3 安裝 Node.js
  - 2.1.4 配置 Claude API
  - 2.1.5 安裝開發工具
  - 2.1.6 驗證完整環境

- **2.2 創建 WebGuard 專案**
  - 2.2.1 專案結構規劃
  - 2.2.2 初始化專案
  - 2.2.3 創建基礎配置

- **2.3 創建第一個 Skill**
  - 2.3.1 Skill 設計
  - 2.3.2 創建 Skill 定義
  - 2.3.3 實作 Skill 執行邏輯
  - 2.3.4 測試你的 Skill

- **2.4 與 Claude 整合**
  - 2.4.1 創建 Claude Skill 包裝器
  - 2.4.2 創建 Claude 整合範例

- **2.5 完善與調試**
  - 2.5.1 添加單元測試
  - 2.5.2 添加日誌和錯誤處理
  - 2.5.3 性能優化

- **2.6 本章總結**
  - 2.6.1 你學到了什麼
  - 2.6.2 關鍵要點
  - 2.6.3 檢查點
  - 2.6.4 故障排除

---

## Part 2: 核心技術篇

### [第 3 章：Skills 核心概念與 SKILL.md 語法](#第-3-章skills-核心概念與-skillmd-語法)

- **3.1 SKILL.md 完整語法規範**
  - 3.1.1 基本結構
  - 3.1.2 Description：第一印象很重要
  - 3.1.3 When to use：精準匹配場景
  - 3.1.4 Parameters：清晰的介面定義
  - 3.1.5 Returns：明確的輸出契約
  - 3.1.6 Examples：實際使用演示
  - 3.1.7 Error Handling：優雅的失敗

- **3.2 三層漸進式揭露系統詳解**
  - 3.2.1 為什麼需要漸進式揭露？
  - 3.2.2 Layer 1: 發現層（Discovery Layer）
  - 3.2.3 Layer 2: 準備層（Preparation Layer）
  - 3.2.4 Layer 3: 執行層（Execution Layer）
  - 3.2.5 漸進式揭露的量化效益

- **3.3 Skills 生命週期**
  - 3.3.1 階段 1: 發現（Discovery）
  - 3.3.2 階段 2: 準備（Preparation）
  - 3.3.3 階段 3: 執行（Execution）
  - 3.3.4 階段 4: 回報（Reporting）
  - 3.3.5 階段 5: 清理（Cleanup）

- **3.4 參數定義與驗證**
  - 3.4.1 使用 Pydantic 進行參數驗證
  - 3.4.2 複雜參數類型

- **3.5 錯誤處理策略**
  - 3.5.1 錯誤分類
  - 3.5.2 智能重試策略

- **3.6 Skills 開發最佳實踐**
  - 3.6.1 單一職責原則（Single Responsibility Principle）
  - 3.6.2 可組合性（Composability）
  - 3.6.3 可測試性（Testability）
  - 3.6.4 斷路器模式（Circuit Breaker Pattern）
  - 3.6.5 版本控制與向後兼容

### [第 4 章：Stagehand 瀏覽器自動化實戰](#第-4-章stagehand-瀏覽器自動化實戰)

- **4.1 認識 Stagehand**
  - 4.1.1 瀏覽器自動化的演進
  - 4.1.2 Stagehand 核心優勢
  - 4.1.3 Stagehand 的工作原理

- **4.2 Stagehand 四大核心 API**
  - 4.2.1 act() - 執行操作
  - 4.2.2 extract() - 提取資訊
  - 4.2.3 observe() - 等待條件
  - 4.2.4 agent() - 自主執行

- **4.3 實作登入測試 Skill**
  - 4.3.1 Skill 定義
  - 4.3.2 Python 實作
  - 4.3.3 Stagehand 腳本實作
  - 4.3.4 測試 Skill
  - 4.3.5 整合到 Skills 系統

- **4.4 處理複雜 UI 互動**
  - 4.4.1 動態內容處理
  - 4.4.2 文件上傳
  - 4.4.3 拖放操作
  - 4.4.4 處理彈窗和對話框
  - 4.4.5 處理 iframe 和多視窗

- **4.5 自愈機制與錯誤恢復**
  - 4.5.1 自動重試機制
  - 4.5.2 錯誤恢復策略
  - 4.5.3 處理常見錯誤
  - 4.5.4 監控與日誌系統

- **4.6 WebGuard 瀏覽器測試模組**
  - 4.6.1 模組架構
  - 4.6.2 基礎測試類別
  - 4.6.3 完整 E2E 測試套件
  - 4.6.4 視覺回歸測試
  - 4.6.5 性能監控與優化
  - 4.6.6 並行測試執行

- **4.7 本章總結**
  - 4.7.1 關鍵要點回顧
  - 4.7.2 實踐檢查清單
  - 4.7.3 下一章預告

- **4.8 最佳實踐與性能調優**
  - 4.8.1 Stagehand 性能優化技巧
  - 4.8.2 資源管理與清理
  - 4.8.3 除錯技巧與工具

### [第 5 章：數據與文件處理自動化](#第-5-章數據與文件處理自動化)

- **5.1 Excel/CSV 數據處理 Skills**
  - 5.1.1 為什麼需要自動化 Excel 處理？
  - 5.1.2 技術選型：Pandas + openpyxl
  - 5.1.3 實作：ExcelProcessor 類別
  - 5.1.4 整合到 Claude Code Skill
  - 5.1.5 CSV 處理：輕量級替代方案

- **5.2 PDF 文件處理與驗證**
  - 5.2.1 PDF 處理的應用場景
  - 5.2.2 技術選型：PyPDF2 vs pdfplumber vs pdfminer
  - 5.2.3 實作：PDFValidator 類別
  - 5.2.4 整合到 Claude Code Skill：報告驗證

- **5.3 數據驅動測試實踐**
  - 5.3.1 什麼是數據驅動測試？
  - 5.3.2 實作：Pytest + Excel DDT
  - 5.3.3 高級技巧：動態生成測試數據

- **5.4 數據清洗與轉換**
  - 5.4.1 常見數據問題
  - 5.4.2 Pandas 數據清洗技巧

- **5.5 與 WebGuard 測試系統整合**

- **5.6 最佳實踐與安全考量**
  - 5.6.1 數據處理最佳實踐
  - 5.6.2 安全考量

- **5.7 本章總結**

### [第 6 章：API 測試與整合驗證](#第-6-章api-測試與整合驗證)

- **6.1 REST API 測試基礎**
  - 6.1.1 為什麼需要自動化 API 測試？
  - 6.1.2 技術選型：Requests + httpx
  - 6.1.3 實作：APITester 基礎類別
  - 6.1.4 進階功能：認證處理

- **6.2 GraphQL API 測試**
  - 6.2.1 GraphQL vs REST
  - 6.2.2 實作：GraphQLTester

- **6.3 API 契約測試（Contract Testing）**
  - 6.3.1 什麼是契約測試？
  - 6.3.2 使用 Pact 進行契約測試

- **6.4 API Mock 與測試隔離**
  - 6.4.1 為什麼需要 Mock？
  - 6.4.2 使用 responses 庫 Mock API

- **6.5 性能與負載測試**
  - 6.5.1 響應時間驗證
  - 6.5.2 使用 Locust 進行負載測試

- **6.6 整合到 Claude Code Skill**
  - 6.6.1 API 健康檢查 Skill

- **6.7 與 WebGuard 系統整合**

- **6.8 最佳實踐與安全考量**
  - 6.8.1 API 測試最佳實踐
  - 6.8.2 安全考量

- **6.9 本章總結**

### [第 7 章：Skills 進階模式與組合技巧](#第-7-章skills-進階模式與組合技巧)

- **7.1 為什麼需要 Skill 編排？**
  - 7.1.1 單一 Skill 的局限性
  - 7.1.2 編排的核心價值

- **7.2 Skill 編排器（SkillOrchestrator）**
  - 7.2.1 基礎架構
  - 7.2.2 使用範例：順序執行

- **7.3 動態參數傳遞（Data Flow）**
  - 7.3.1 問題場景
  - 7.3.2 實作：支持數據流的編排器
  - 7.3.3 使用範例：完整的數據流

- **7.4 錯誤處理與重試策略**
  - 7.4.1 常見錯誤場景
  - 7.4.2 實作：重試與補償機制
  - 7.4.3 使用範例：重試與補償

- **7.5 條件執行與分支邏輯**
  - 7.5.1 if-else 邏輯
  - 7.5.2 實作：條件執行器

- **7.6 實戰案例：端到端測試工作流**
  - 7.6.1 場景：電商下單流程
  - 7.6.2 工作流可視化

- **7.7 最佳實踐與設計模式**
  - 7.7.1 Skill 編排的黃金法則
  - 7.7.2 常見編排模式
  - 7.7.3 性能優化

- **7.8 本章總結**

---

## Part 3: 生產部署篇

### [第 8 章：測試自動化與 CI/CD 整合](#第-8-章測試自動化與-cicd-整合)

- **8.1 CI/CD 基礎：為什麼需要持續測試？**
  - 8.1.1 什麼是 CI/CD？
  - 8.1.2 測試自動化的價值
  - 8.1.3 測試金字塔與 CI 策略

- **8.2 GitHub Actions 整合**
  - 8.2.1 基礎配置：WebGuard 測試工作流
  - 8.2.2 Secrets 管理
  - 8.2.3 矩陣測試（Matrix Strategy）
  - 8.2.4 快取優化（加速構建）

- **8.3 GitLab CI/CD 整合**
  - 8.3.1 基礎配置
  - 8.3.2 GitLab CI 特色功能

- **8.4 Jenkins 整合**
  - 8.4.1 Declarative Pipeline
  - 8.4.2 Jenkins Shared Library（可重用配置）

- **8.5 測試報告與可視化**
  - 8.5.1 Allure 測試報告
  - 8.5.2 代碼覆蓋率（Code Coverage）
  - 8.5.3 性能測試報告（JMeter/Locust）

- **8.6 定時任務與健康監控**
  - 8.6.1 Cron 定時測試
  - 8.6.2 健康檢查 Skill

- **8.7 失敗通知與告警**
  - 8.7.1 Slack 通知
  - 8.7.2 Email 通知

- **8.8 最佳實踐**
  - 8.8.1 測試執行策略
  - 8.8.2 快速反饋原則
  - 8.8.3 成本優化

- **8.9 本章總結**

### [第 9 章：完整測試系統架構（WebGuard）](#第-9-章完整測試系統架構webguard)

- **9.1 WebGuard 系統概述**
  - 9.1.1 設計目標
  - 9.1.2 核心功能
  - 9.1.3 四層架構設計

- **9.2 數據庫設計（PostgreSQL）**
  - 9.2.1 核心表結構
  - 9.2.2 數據遷移（Alembic）

- **9.3 編排層實現**
  - 9.3.1 Celery 分布式任務隊列
  - 9.3.2 APScheduler 定時任務

- **9.4 執行層實現**
  - 9.4.1 Skill 加載器
  - 9.4.2 測試執行引擎

- **9.5 存儲層實現**
  - 9.5.1 Redis 數據結構設計
  - 9.5.2 MinIO 文件存儲

- **9.6 報告層實現**
  - 9.6.1 Prometheus 指標收集
  - 9.6.2 Grafana 儀表板

- **9.7 API 網關（FastAPI）**
  - 9.7.1 RESTful API

- **9.8 部署架構（Docker Compose）**
  - 9.8.1 完整部署配置

- **9.9 高可用性設計**
  - 9.9.1 負載均衡
  - 9.9.2 故障恢復

- **9.10 本章總結**

### [第 10 章：企業部署、安全與 MCP 生態](#第-10-章企業部署安全與-mcp-生態)

- **10.1 安全性最佳實踐**
  - 10.1.1 密鑰管理（Secrets Management）
  - 10.1.2 加密敏感數據
  - 10.1.3 API 金鑰輪換
  - 10.1.4 HTTPS 與 TLS
  - 10.1.5 輸入驗證與防護

- **10.2 Kubernetes 生產環境部署**
  - 10.2.1 Kubernetes 資源清單
  - 10.2.2 Helm Chart

- **10.3 MCP（Model Context Protocol）整合**
  - 10.3.1 什麼是 MCP？
  - 10.3.2 實作 MCP Server
  - 10.3.3 Claude Desktop 整合

- **10.4 生產就緒清單**
  - 10.4.1 部署前檢查清單
  - 10.4.2 監控儀表板範例

- **10.5 未來展望**
  - 10.5.1 AI 驅動的測試演進
  - 10.5.2 社群與生態系統
  - 10.5.3 結語

---

## 附錄

### [附錄 A：MCP Protocol 參考](#附錄-amcp-protocol-參考)

- **A.1 什麼是 MCP (Model Context Protocol)**
  - A.1.1 核心概念
  - A.1.2 傳輸協議

- **A.2 MCP Server 基本結構**
  - A.2.1 最小化 MCP Server (Python)
  - A.2.2 MCP Server 配置 (Claude Desktop)

- **A.3 Resources API**
  - A.3.1 提供文件資源
  - A.3.2 動態資源更新

- **A.4 Tools API**
  - A.4.1 完整工具定義
  - A.4.2 工具執行與錯誤處理

- **A.5 Prompts API**
  - A.5.1 定義提示模板

- **A.6 在 Skills 中使用 MCP**
  - A.6.1 Skills + MCP 整合架構
  - A.6.2 實戰範例：Skills 調用 MCP Tools
  - A.6.3 配置 MCP Database Server

- **A.7 安全性最佳實踐**
  - A.7.1 參數驗證
  - A.7.2 速率限制
  - A.7.3 敏感資訊遮罩

- **A.8 MCP 官方 Servers 清單**

- **A.9 故障排除**
  - A.9.1 常見錯誤
  - A.9.2 調試技巧

- **A.10 進階主題**
  - A.10.1 自定義傳輸層
  - A.10.2 MCP Server 集群

- **A.11 參考資源**
  - 官方文檔
  - 社群資源
  - 相關章節

### [附錄 C：測試工具對比表](#附錄-c測試工具對比表)

- **C.1 工具概覽**

- **C.2 詳細對比矩陣**
  - C.2.1 技術特性
  - C.2.2 選擇器策略對比
  - C.2.3 代碼複雜度對比
  - C.2.4 維護成本對比

- **C.3 性能基準測試**
  - C.3.1 測試場景：執行 10 個登入測試（並行）
  - C.3.2 脆弱性測試：UI 變更後穩定性

- **C.4 成本分析**
  - C.4.1 團隊規模：5 人 QA 團隊，100 個測試案例
  - C.4.2 隱藏成本

- **C.5 使用場景推薦**
  - C.5.1 選擇 Stagehand
  - C.5.2 選擇 Playwright
  - C.5.3 選擇 Selenium
  - C.5.4 選擇 Puppeteer
  - C.5.5 選擇 Cypress

- **C.6 混合策略：多工具協同**
  - C.6.1 推薦組合
  - C.6.2 實戰配置

- **C.7 遷移指南**
  - C.7.1 從 Selenium 遷移到 Playwright
  - C.7.2 從 Playwright 增強到 Stagehand

- **C.8 決策樹**

- **C.9 總結建議**

### [附錄 D：Skills 開發最佳實踐檢查清單](#附錄-dskills-開發最佳實踐檢查清單)

- **📋 Skills 設計檢查清單**
  - ✅ 職責單一性
  - ✅ 可重用性
  - ✅ 介面設計

- **🎯 SKILL.md 撰寫檢查清單**
  - ✅ 必要章節完整
  - ✅ Description 品質
  - ✅ When to use 具體性
  - ✅ Parameters 完整性
  - ✅ Examples 實用性

- **💻 代碼實作檢查清單**
  - ✅ Python Skills
  - ✅ TypeScript/Stagehand Skills

- **🧪 測試檢查清單**
  - ✅ 單元測試
  - ✅ 整合測試
  - ✅ E2E 測試

- **🔒 安全檢查清單**
  - ✅ 輸入驗證
  - ✅ 密鑰管理
  - ✅ 權限控制

- **🚀 性能檢查清單**
  - ✅ 執行效率
  - ✅ 資源管理
  - ✅ 可擴展性

- **📚 文檔檢查清單**
  - ✅ SKILL.md
  - ✅ README
  - ✅ 代碼註釋

- **🔄 CI/CD 檢查清單**
  - ✅ 自動化測試
  - ✅ 代碼品質
  - ✅ 部署流程

- **📦 發布檢查清單**
  - ✅ 版本管理
  - ✅ 文檔更新
  - ✅ 質量保證

- **🎯 生產環境檢查清單**
  - ✅ 監控
  - ✅ 可靠性
  - ✅ 可觀測性

- **📊 性能基準**
  - ✅ 目標指標
  - ✅ 壓力測試

- **🌟 最佳實踐總結**
  - DO（推薦）
  - DON'T（避免）

- **📖 參考資源**
  - 官方文檔
  - 工具
  - 社群

- **✅ 快速檢查模板**

---

## 📝 閱讀建議

### 快速上手（2-3 天）
- 閱讀：前言 + Chapters 1-4
- 實作：建立第一個 Skill，執行瀏覽器測試
- 目標：理解核心概念，能夠獨立開發簡單 Skills

### 完整學習（1-2 週）
- 閱讀：前言 + Chapters 1-8
- 實作：建立多個 Skills，整合 CI/CD
- 目標：掌握 Skills 開發的完整流程

### 生產部署（2-4 週）
- 閱讀：全書 + 附錄
- 實作：完整的 WebGuard 系統
- 目標：部署生產級自動化系統

---

## 🔗 相關資源

- **GitHub 代碼倉庫**: https://github.com/[username]/webguard-skills
- **官方文檔**: https://docs.anthropic.com/claude/docs/skills
- **Stagehand 文檔**: https://docs.stagehand.dev
- **MCP 協議**: https://modelcontextprotocol.io
- **書籍官網**: https://claudeskills.dev/book

---

**版本**: 1.0
**最後更新**: 2025-11-08
**作者**: Claude (總編輯)
**出版社**: Manning Publications (擬定)

---

> 💡 **提示**: 本目錄中的所有章節標題都是可點擊的鏈接，可快速導航到對應章節。建議配合書籍的 GitHub 代碼倉庫一起學習，所有代碼範例都經過測試，可直接運行。
