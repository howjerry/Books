# Claude Agent SDK 打造企業 Agent
## Building Enterprise AI Agents in Action

> 一本 Manning "in Action" 風格的企業級 AI Agent 開發實戰指南

---

## 📚 書籍資訊

**書名（中文）：** Claude Agent SDK 打造企業 Agent
**書名（英文）：** Building Enterprise AI Agents in Action
**風格定位：** Manning "in Action" 系列
**目標讀者：** 具備 2-5 年經驗的軟體工程師、企業架構師、DevOps/MLOps 工程師

---

## 🎯 本書特色

- **專案驅動學習**：每章都以真實企業場景為起點，完成可運行的完整專案
- **漸進式深入**：從單一 Agent → Subagents → 企業級架構 → 治理體系
- **生產級代碼**：所有範例都可直接應用於生產環境
- **成本意識**：深入探討 API 成本優化策略
- **完整生命週期**：涵蓋開發、測試、部署、監控、優化全流程

---

## 📖 全書架構

### 第一部：基礎篇 - 你的第一個 Claude Agent
- **第 1 章：建構你的第一個 Claude Agent - 智慧客服助理** ✅ **已完成**
- **第 2 章：賦予 Agent 執行能力 - 自動化報表生成系統** ✅ **已完成**
- 第 3 章：情境工程 - 建立長期記憶的知識管理 Agent

### 第二部：進階篇 - Subagents 與專業化分工
- **第 4 章：你的第一個 Subagent - 大規模程式碼重構系統** ✅ **已完成**
- 第 5 章：Subagents 協作模式 - 事件響應分析系統
- 第 6 章：輸出驗證與品質保證 - 自動化測試生成系統

### 第三部：實戰篇 - 企業級架構設計與部署
- 第 7 章：企業級 Agent 架構設計 - 智慧客戶支援平台
- 第 8 章：生產環境的安全與監控 - 建立可觀測性體系
- 第 9 章：多層次協調與元 Agent - 完整應用程式重寫專案

### 第四部：治理篇 - 團隊協作、成本優化與持續改進
- 第 10 章：建立可重用的 Agent 市集 - 組織知識庫系統
- 第 11 章：團隊協作與開發工作流程 - Agent 開發生命週期管理
- 第 12 章：成本優化與資源管理 - 打造高效益的 Agent 系統
- 第 13 章：Agent 開發的未來與持續學習路徑

---

## 📁 專案結構

```
claude-agent-sdk-in-action/
├── README.md                    # 本文件
├── BOOK_PROPOSAL.md            # 完整出版企劃書
├── manuscript/                 # 書稿內容
│   └── chapters/              # 各章節內容
│       ├── chapter-01.md      # ✅ 已完成
│       ├── chapter-02.md      # ✅ 已完成
│       └── chapter-04.md      # ✅ 已完成
├── code-examples/             # 完整可運行的程式碼範例
│   ├── chapter-01/            # 客服 Agent 範例
│   └── chapter-02/            # 報表生成 Agent 範例
├── diagrams/                  # 技術圖表與架構圖
├── resources/                 # 補充資源
└── planning/                  # 寫作計畫與進度追蹤
```

---

## ✅ 當前進度

### 已完成章節

- [x] **第 1 章：建構你的第一個 Claude Agent - 智慧客服助理** (2025-11-08)
  - 理解 Agent vs. 傳統 LLM 應用
  - Think → Act → Observe 循環
  - 工具定義與 Tool Use
  - 對話記憶管理
  - 62KB 完整內容 + 可運行程式碼

- [x] **第 2 章：賦予 Agent 執行能力 - 自動化報表生成系統** (2025-11-08)
  - 安全的 Bash 執行器（白名單/黑名單）
  - 檔案操作工具（讀寫 TXT/JSON/CSV）
  - Python 腳本執行器（圖表生成）
  - 報表協調器 Agent
  - 多層防護策略與安全審計
  - 56KB 完整內容 + ~1,000 行程式碼

- [x] **第 4 章：你的第一個 Subagent - 大規模程式碼重構系統** (2025-11-08)
  - 完整的主協調器實作 (RefactoringCoordinator)
  - 專業化 Subagent 實作 (CodeRefactorSubagent)
  - 權限配置系統 (PermissionChecker)
  - 效能基準測試與對比
  - 54KB 完整內容，包含可運行的程式碼

### 待完成章節
- [ ] 第 3 章（基礎篇）
- [ ] 第 5-6 章（進階篇）
- [ ] 第 7-9 章（實戰篇）
- [ ] 第 10-13 章（治理篇）

---

## 🎯 預期成果

### 讀者完成本書後將能夠：
✅ 獨立設計並實作企業級 Agent 系統
✅ 建立 10-50+ Subagents 協作的多層次架構
✅ 實作完整的 CI/CD 管線與監控體系
✅ 優化成本至少 50%（透過快取、模型選擇、Prompt 優化）
✅ 建立內部 Agent 市集與知識管理系統

### 技術能力提升：
- 從「編寫程式碼」轉變為「規劃與協調」
- 理解情境隔離與專業化分工的設計原則
- 掌握複雜系統的分解與管理方法

---

## 💡 核心概念

### Subagents 的三大優勢
1. **情境隔離**：每個 Subagent 獨立運作，避免情境污染
2. **專業化分工**：主 Agent 規劃，Subagent 執行
3. **平行化執行**：大幅縮短處理時間

### 實際效益數據（基於第 4 章案例）
- 執行時間減少 **82%** (45 分鐘 → 8 分鐘)
- 情境使用減少 **98%** (180K → 2.5K tokens)
- API 成本降低 **65%** ($2.40 → $0.85)
- 錯誤率降低 **84%** (12.8% → 2.1%)

---

## 🛠️ 技術棧

- **AI SDK**: Claude Agent SDK (Anthropic)
- **語言**: Python 3.9+
- **部署**: Docker, Kubernetes
- **監控**: Prometheus, Grafana
- **CI/CD**: GitHub Actions
- **資料庫**: PostgreSQL, Redis
- **測試**: pytest, unittest

---

## 📅 寫作時程

| 階段 | 時間 | 產出 |
|------|------|------|
| 第一階段：基礎篇 | Month 1-2 | 第 1-3 章 ✅ 1-2已完成 |
| 第二階段：進階篇 | Month 2-3 | 第 4-6 章 ✅ 4已完成 |
| 第三階段：實戰篇 | Month 3-4 | 第 7-9 章 |
| 第四階段：治理篇 | Month 4-5 | 第 10-12 章 |
| 第五階段：收尾 | Month 5-6 | 第 13 章 + 校對 |

**預計完稿時間：2026 年 Q2**
**預計出版時間：2026 年 Q3-Q4**

---

## 🎓 作者簡介

從業軟體開發 20 年，現任 Anthropic 首席教育長，擅長使用 Claude Code CLI 與 SDK 在各領域進行高價值開發。曾主導多個企業級 AI 轉型專案，協助財富 500 強企業建立 AI Agent 架構。

---

## 📞 聯絡方式

- **企劃提案人**: [作者姓名]
- **Email**: [email]
- **GitHub**: [github]
- **LinkedIn**: [linkedin]

---

## 📄 授權

本書內容為出版前的草稿，版權所有。未經授權，請勿複製或傳播。

---

**最後更新：2025-11-08**
