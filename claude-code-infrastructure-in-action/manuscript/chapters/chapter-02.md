# ç¬¬ 2 ç« ï¼šè¨­è¨ˆä½ çš„ç¬¬ä¸€å€‹æŠ€èƒ½æ¨¡çµ„

> **æœ¬ç« ç›®æ¨™**
> åœ¨æœ¬ç« çµæŸæ™‚ï¼Œä½ å°‡æ“æœ‰ä¸€å€‹å®Œæ•´çš„å¾Œç«¯é–‹ç™¼æŒ‡å—æŠ€èƒ½ï¼ŒåŒ…å«ä¸»æª”æ¡ˆå’Œ 12 å€‹è³‡æºæ¨¡çµ„ï¼Œèƒ½å¤ ç‚ºä½ çš„ TypeScript å¾®æœå‹™å°ˆæ¡ˆæä¾›å…¨æ–¹ä½çš„é–‹ç™¼æŒ‡å°ã€‚

## 2.1 å•é¡Œï¼šç•¶æŠ€èƒ½è®Šå¾—å¤ªå¤§æ™‚

åœ¨ä¸Šä¸€ç« ä¸­ï¼Œæˆ‘å€‘å»ºç«‹äº†è‡ªå‹•æ¿€æ´»ç³»çµ±ï¼Œè®“ Claude Code èƒ½å¤ æ ¹æ“šä¸Šä¸‹æ–‡è‡ªå‹•å»ºè­°æŠ€èƒ½ã€‚ä½†æ˜¯ç•¶ Sarahï¼ˆæˆ‘å€‘çš„å‰ç«¯å·¥ç¨‹å¸«ï¼‰å¯¦éš›é–‹å§‹æ’°å¯«æŠ€èƒ½æ™‚ï¼Œå¥¹é‡åˆ°äº†ä¸€å€‹æ–°å•é¡Œã€‚

**æ—©ä¸Š 9:00** - Sarah çš„ç¬¬ä¸€æ¬¡å˜—è©¦

Sarah æ±ºå®šç‚ºåœ˜éšŠçš„ React + Material UI å°ˆæ¡ˆå»ºç«‹ä¸€å€‹å‰ç«¯é–‹ç™¼æŒ‡å—ã€‚å¥¹æ‰“é–‹ `.claude/skills/frontend-guidelines/SKILL.md`ï¼Œé–‹å§‹æ’°å¯«ï¼š

```markdown
# å‰ç«¯é–‹ç™¼æŒ‡å—

## Component è¨­è¨ˆåŸå‰‡
ï¼ˆ200 è¡Œå…§å®¹ï¼‰

## Material UI v7 ä½¿ç”¨æŒ‡å—
ï¼ˆ300 è¡Œå…§å®¹ï¼‰

## State ç®¡ç†æœ€ä½³å¯¦è¸
ï¼ˆ250 è¡Œå…§å®¹ï¼‰

## è¡¨å–®è™•ç†èˆ‡é©—è­‰
ï¼ˆ280 è¡Œå…§å®¹ï¼‰

## æ•ˆèƒ½å„ªåŒ–
ï¼ˆ220 è¡Œå…§å®¹ï¼‰

## æ¸¬è©¦ç­–ç•¥
ï¼ˆ180 è¡Œå…§å®¹ï¼‰

...ï¼ˆé‚„æœ‰æ›´å¤šä¸»é¡Œï¼‰
```

**ä¸‹åˆ 2:30** - æª”æ¡ˆå·²ç¶“ 2,500 è¡Œ

Sarah ç™¼ç¾å¥¹çš„ `SKILL.md` æª”æ¡ˆå·²ç¶“è†¨è„¹åˆ° 2,500 è¡Œï¼Œè€Œä¸”å¥¹é‚„æœ‰å¾ˆå¤šå…§å®¹æƒ³åŠ å…¥ã€‚æ›´ç³Ÿçš„æ˜¯ï¼š

**å•é¡Œ 1ï¼šä¸Šä¸‹æ–‡é™åˆ¶**
ç•¶ Claude Code è¼‰å…¥é€™å€‹æŠ€èƒ½æ™‚ï¼Œå®ƒæœƒæ¶ˆè€—å¤§é‡çš„ä¸Šä¸‹æ–‡ tokensï¼Œå³ä½¿é–‹ç™¼è€…åªéœ€è¦å…¶ä¸­çš„ã€Œè¡¨å–®è™•ç†ã€éƒ¨åˆ†ã€‚

**å•é¡Œ 2ï¼šç¶­è­·å›°é›£**
2,500 è¡Œçš„å–®ä¸€æª”æ¡ˆå¾ˆé›£ç¶­è­·ã€‚ç•¶å¥¹æƒ³æ›´æ–°ã€ŒMaterial UIã€éƒ¨åˆ†æ™‚ï¼Œå¿…é ˆåœ¨å·¨å¤§çš„æª”æ¡ˆä¸­å°‹æ‰¾ç›¸é—œç« ç¯€ã€‚

**å•é¡Œ 3ï¼šèªçŸ¥è² æ“”**
å°æ–¼æ–°åŠ å…¥åœ˜éšŠçš„é–‹ç™¼è€…ï¼Œä¸€æ¬¡æ€§çœ‹åˆ° 2,500 è¡Œçš„æŒ‡å—æœƒæ„Ÿåˆ°overwhelmedï¼ˆä¸çŸ¥æ‰€æªï¼‰ã€‚

**å•é¡Œ 4ï¼šè¼‰å…¥é€Ÿåº¦**
æ¯æ¬¡è§¸ç™¼æŠ€èƒ½ï¼ŒClaude Code éƒ½éœ€è¦è®€å–å’Œè§£ææ•´å€‹ 2,500 è¡Œæª”æ¡ˆï¼Œå³ä½¿åªéœ€è¦å…¶ä¸­ä¸€å°éƒ¨åˆ†ã€‚

---

Sarah å‘åœ˜éšŠçš„ DevOps å·¥ç¨‹å¸« Mike æ±‚åŠ©ã€‚Mike åˆ†äº«äº†ä»–åœ¨æ§‹å»ºåŸºç¤è¨­æ–½æ–‡ä»¶æ™‚å­¸åˆ°çš„åŸå‰‡ï¼š

> **ã€Œæ¼¸é€²å¼æ­éœ²ã€ï¼ˆProgressive Disclosureï¼‰**
> å…ˆæä¾›é«˜å±¤æ¬¡çš„æŒ‡å°ï¼Œåªåœ¨éœ€è¦æ™‚æ‰æ·±å…¥ç´°ç¯€ã€‚

é€™å€‹åŸå‰‡å•Ÿç™¼äº† Sarah è¨­è¨ˆæ–°çš„æŠ€èƒ½æ¶æ§‹ã€‚

---

## 2.2 è§£æ±ºæ–¹æ¡ˆï¼šæ¨¡çµ„åŒ–æŠ€èƒ½æ¶æ§‹

### 2.2.1 è¨­è¨ˆåŸå‰‡

**æ ¸å¿ƒç†å¿µ**ï¼šæŠ€èƒ½æ‡‰è©²åƒä¸€æœ¬æ›¸ï¼š
- **ä¸»æª”æ¡ˆï¼ˆSKILL.mdï¼‰** = ç›®éŒ„ + æ ¸å¿ƒæ¦‚å¿µï¼ˆ< 500 è¡Œï¼‰
- **è³‡æºæª”æ¡ˆï¼ˆresources/*.mdï¼‰** = å„ç« ç¯€è©³ç´°å…§å®¹ï¼ˆæ¯å€‹ < 500 è¡Œï¼‰

```mermaid
graph TB
    A[é–‹ç™¼è€…éœ€è¦æŒ‡å°] --> B[Claude è¼‰å…¥ SKILL.md]
    B --> C{éœ€è¦æ·±å…¥äº†è§£?}
    C -->|æ˜¯| D[è¼‰å…¥ç›¸é—œ resource æª”æ¡ˆ]
    C -->|å¦| E[ä½¿ç”¨ SKILL.md çš„æŒ‡å°]
    D --> F[æä¾›è©³ç´°æŒ‡å°]
    E --> G[æä¾›é«˜å±¤æ¬¡æŒ‡å°]

    style B fill:#e1f5ff
    style D fill:#fff3e0
    style E fill:#c8e6c9
```

### 2.2.2 æŠ€èƒ½ç›®éŒ„çµæ§‹

è®“æˆ‘å€‘è¨­è¨ˆä¸€å€‹å®Œæ•´çš„å¾Œç«¯é–‹ç™¼æŒ‡å—æŠ€èƒ½ï¼š

```
.claude/skills/backend-dev-guidelines/
â”œâ”€â”€ SKILL.md                           # ä¸»æª”æ¡ˆï¼ˆ< 500 è¡Œï¼‰
â”œâ”€â”€ metadata.json                      # æŠ€èƒ½å…ƒè³‡æ–™
â””â”€â”€ resources/                         # è©³ç´°è³‡æº
    â”œâ”€â”€ 01-controller-patterns.md     # æ§åˆ¶å™¨è¨­è¨ˆæ¨¡å¼
    â”œâ”€â”€ 02-service-layer.md           # æœå‹™å±¤æ¶æ§‹
    â”œâ”€â”€ 03-data-access-layer.md       # è³‡æ–™å­˜å–å±¤
    â”œâ”€â”€ 04-error-handling.md          # éŒ¯èª¤è™•ç†ç­–ç•¥
    â”œâ”€â”€ 05-validation.md              # é©—è­‰èˆ‡æˆæ¬Š
    â”œâ”€â”€ 06-testing.md                 # æ¸¬è©¦æœ€ä½³å¯¦è¸
    â”œâ”€â”€ 07-api-design.md              # API è¨­è¨ˆåŸå‰‡
    â”œâ”€â”€ 08-database-patterns.md       # è³‡æ–™åº«æ¨¡å¼
    â”œâ”€â”€ 09-caching-strategies.md      # å¿«å–ç­–ç•¥
    â”œâ”€â”€ 10-logging-monitoring.md      # æ—¥èªŒèˆ‡ç›£æ§
    â”œâ”€â”€ 11-security.md                # å®‰å…¨æœ€ä½³å¯¦è¸
    â””â”€â”€ 12-deployment.md              # éƒ¨ç½²èˆ‡ DevOps
```

**è¨­è¨ˆè¦é»**ï¼š

â€¹1â€º **ä¸»æª”æ¡ˆï¼ˆSKILL.mdï¼‰**
- æä¾›é«˜å±¤æ¬¡çš„é–‹ç™¼åŸå‰‡
- åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„è³‡æºä¸»é¡Œ
- åŒ…å«å¿«é€Ÿåƒè€ƒç¯„ä¾‹
- å‘Šè¨´ Claude ä½•æ™‚è¼‰å…¥å“ªå€‹è³‡æº

â€¹2â€º **è³‡æºæª”æ¡ˆå‘½åè¦ç¯„**
- ä½¿ç”¨æ•¸å­—å‰ç¶´ï¼ˆ01, 02, ...ï¼‰è¡¨ç¤ºé‚è¼¯é †åº
- ä½¿ç”¨æ¸…æ™°çš„æè¿°æ€§åç¨±
- ä¿æŒæ¯å€‹æª”æ¡ˆèšç„¦æ–¼å–®ä¸€ä¸»é¡Œ

â€¹3â€º **è³‡æºæª”æ¡ˆå¤§å°**
- æ¯å€‹æª”æ¡ˆ < 500 è¡Œ
- å¦‚æœè¶…éï¼Œé€²ä¸€æ­¥æ‹†åˆ†å­ä¸»é¡Œ

â€¹4â€º **å…ƒè³‡æ–™æª”æ¡ˆï¼ˆmetadata.jsonï¼‰**
- ç‰ˆæœ¬è³‡è¨Š
- ä½œè€…èˆ‡ç¶­è­·è€…
- ä¾è³´é—œä¿‚
- æ›´æ–°æ­·å²

---

## 2.3 å¯¦ä½œä¸»æª”æ¡ˆï¼ˆSKILL.mdï¼‰

### 2.3.1 ä¸»æª”æ¡ˆçš„çµæ§‹

ä¸»æª”æ¡ˆæ‡‰è©²åŒ…å«ä»¥ä¸‹éƒ¨åˆ†ï¼š

```markdown
# æŠ€èƒ½åç¨±

## 1. æŠ€èƒ½ç°¡ä»‹
- é€™å€‹æŠ€èƒ½æ˜¯ä»€éº¼
- é©ç”¨æ–¼å“ªäº›å ´æ™¯
- ä¸é©ç”¨æ–¼å“ªäº›å ´æ™¯

## 2. æ ¸å¿ƒåŸå‰‡
- é«˜å±¤æ¬¡çš„è¨­è¨ˆåŸå‰‡ï¼ˆ3-5 æ¢ï¼‰
- å¿«é€Ÿæ±ºç­–æŒ‡å—

## 3. å¿«é€Ÿåƒè€ƒ
- å¸¸è¦‹ä»»å‹™çš„ç°¡çŸ­ç¯„ä¾‹
- ä¸è¶…é 10-15 å€‹ç¯„ä¾‹

## 4. è©³ç´°è³‡æºç´¢å¼•
- åˆ—å‡ºæ‰€æœ‰ resources/ æª”æ¡ˆ
- èªªæ˜ä½•æ™‚æ‡‰è©²åƒè€ƒå“ªå€‹è³‡æº

## 5. å¸¸è¦‹å•é¡Œé€ŸæŸ¥
- 5-10 å€‹æœ€å¸¸è¦‹çš„å•é¡Œèˆ‡ç­”æ¡ˆ

## 6. ç›¸é—œæŠ€èƒ½
- èˆ‡æ­¤æŠ€èƒ½ç›¸é—œçš„å…¶ä»–æŠ€èƒ½
```

### 2.3.2 æ’°å¯«ä¸»æª”æ¡ˆ

è®“æˆ‘å€‘å¯¦ä½œå¾Œç«¯é–‹ç™¼æŒ‡å—çš„ä¸»æª”æ¡ˆï¼š

**`.claude/skills/backend-dev-guidelines/SKILL.md`**:

```markdown
# å¾Œç«¯é–‹ç™¼æŒ‡å— - TypeScript å¾®æœå‹™

## 1. æŠ€èƒ½ç°¡ä»‹

æœ¬æŠ€èƒ½æä¾› TypeScript å¾Œç«¯é–‹ç™¼çš„å®Œæ•´æŒ‡å°ï¼Œå°ˆæ³¨æ–¼å¾®æœå‹™æ¶æ§‹çš„æœ€ä½³å¯¦è¸ã€‚

### é©ç”¨å ´æ™¯
- âœ… å»ºç«‹ RESTful API ç«¯é»
- âœ… å¯¦ä½œæœå‹™å±¤æ¥­å‹™é‚è¼¯
- âœ… è¨­è¨ˆè³‡æ–™å­˜å–å±¤
- âœ… å¯¦ä½œéŒ¯èª¤è™•ç†èˆ‡é©—è­‰
- âœ… æ’°å¯«å–®å…ƒæ¸¬è©¦èˆ‡æ•´åˆæ¸¬è©¦

### ä¸é©ç”¨å ´æ™¯
- âŒ å‰ç«¯ React/Vue é–‹ç™¼ï¼ˆä½¿ç”¨ `frontend-guidelines`ï¼‰
- âŒ è³‡æ–™åº« schema è¨­è¨ˆï¼ˆä½¿ç”¨ `database-design`ï¼‰
- âŒ DevOps èˆ‡éƒ¨ç½²è…³æœ¬ï¼ˆä½¿ç”¨ `devops-guidelines`ï¼‰

---

## 2. æ ¸å¿ƒåŸå‰‡

### åŸå‰‡ 1ï¼šåˆ†å±¤æ¶æ§‹ â€¹1â€º
```
Controller â†’ Service â†’ Repository â†’ Database
```
æ¯å±¤åªèˆ‡ç›¸é„°å±¤é€šè¨Šï¼Œä¸è·¨å±¤èª¿ç”¨ã€‚

### åŸå‰‡ 2ï¼šå–®ä¸€è·è²¬ â€¹2â€º
æ¯å€‹é¡åˆ¥ã€å‡½æ•¸æ‡‰è©²åªåšä¸€ä»¶äº‹ã€‚å¦‚æœä½ éœ€è¦ç”¨ã€Œå’Œã€ä¾†æè¿°åŠŸèƒ½ï¼Œé‚£å°±è©²æ‹†åˆ†äº†ã€‚

### åŸå‰‡ 3ï¼šä¾è³´æ³¨å…¥ â€¹3â€º
é€šéå»ºæ§‹å­æ³¨å…¥ä¾è³´ï¼Œè€Œä¸æ˜¯åœ¨é¡åˆ¥å…§éƒ¨å¯¦ä¾‹åŒ–ã€‚é€™ä½¿å¾—æ¸¬è©¦è®Šå¾—å®¹æ˜“ã€‚

### åŸå‰‡ 4ï¼šæ˜ç¢ºçš„éŒ¯èª¤è™•ç† â€¹4â€º
ä½¿ç”¨èªç¾©åŒ–çš„éŒ¯èª¤é¡åˆ¥ï¼ˆBadRequestError, NotFoundErrorï¼‰ï¼Œç”±å…¨åŸŸè™•ç†å™¨çµ±ä¸€è™•ç†ã€‚

### åŸå‰‡ 5ï¼šå…ˆå¯«æ¸¬è©¦ â€¹5â€º
å°æ–¼æ¥­å‹™é‚è¼¯ï¼Œå…ˆå¯«æ¸¬è©¦å†å¯«å¯¦ä½œã€‚é€™å¼·è¿«ä½ æ€è€ƒ API è¨­è¨ˆã€‚

---

## 3. å¿«é€Ÿåƒè€ƒ

### 3.1 å»ºç«‹æ–°çš„ API ç«¯é»

**æœ€ç°¡å–®çš„ç¯„ä¾‹**ï¼š

\`\`\`typescript
// 1. å®šç¾© DTO
interface CreateUserDTO {
  email: string;
  name: string;
}

// 2. æ§åˆ¶å™¨
class UserController {
  constructor(private userService: UserService) {}

  async create(req: Request, res: Response): Promise<void> {
    const user = await this.userService.create(req.body);
    res.status(201).json({ data: user });
  }
}

// 3. æœå‹™å±¤
class UserService {
  constructor(private userRepo: UserRepository) {}

  async create(data: CreateUserDTO): Promise<User> {
    // æ¥­å‹™é‚è¼¯é©—è­‰
    return this.userRepo.create(data);
  }
}

// 4. Repository
class UserRepository {
  async create(data: CreateUserDTO): Promise<User> {
    // è³‡æ–™åº«æ“ä½œ
  }
}
\`\`\`

**ä½•æ™‚éœ€è¦æ›´å¤šç´°ç¯€ï¼Ÿ**
- æ§åˆ¶å™¨è¨­è¨ˆ â†’ åƒè€ƒ `resources/01-controller-patterns.md`
- æœå‹™å±¤è¨­è¨ˆ â†’ åƒè€ƒ `resources/02-service-layer.md`
- è³‡æ–™å­˜å–å±¤ â†’ åƒè€ƒ `resources/03-data-access-layer.md`

### 3.2 éŒ¯èª¤è™•ç†

\`\`\`typescript
// å®šç¾©éŒ¯èª¤é¡åˆ¥
class BadRequestError extends Error {
  constructor(message: string) {
    super(message);
    this.name = 'BadRequestError';
  }
}

// ä½¿ç”¨
if (!user) {
  throw new NotFoundError('ä½¿ç”¨è€…ä¸å­˜åœ¨');
}
\`\`\`

**è©³ç´°æŒ‡å—** â†’ `resources/04-error-handling.md`

### 3.3 é©—è­‰

\`\`\`typescript
import { body } from 'express-validator';

const createUserValidation = [
  body('email').isEmail(),
  body('name').notEmpty()
];
\`\`\`

**è©³ç´°æŒ‡å—** â†’ `resources/05-validation.md`

### 3.4 æ¸¬è©¦

\`\`\`typescript
describe('UserService', () => {
  let service: UserService;
  let mockRepo: jest.Mocked<UserRepository>;

  beforeEach(() => {
    mockRepo = { create: jest.fn() } as any;
    service = new UserService(mockRepo);
  });

  it('should create user', async () => {
    mockRepo.create.mockResolvedValue({ id: '1' } as any);
    const result = await service.create({ email: 'test@example.com' });
    expect(result).toBeDefined();
  });
});
\`\`\`

**è©³ç´°æŒ‡å—** â†’ `resources/06-testing.md`

---

## 4. è©³ç´°è³‡æºç´¢å¼•

ç•¶ä½ é‡åˆ°ä»¥ä¸‹æƒ…æ³æ™‚ï¼Œè¼‰å…¥å°æ‡‰çš„è³‡æºæª”æ¡ˆï¼š

| éœ€æ±‚ | è³‡æºæª”æ¡ˆ | ä½•æ™‚ä½¿ç”¨ |
|------|---------|---------|
| **è¨­è¨ˆæ§åˆ¶å™¨** | `01-controller-patterns.md` | å»ºç«‹æ–°çš„ API ç«¯é»ã€é‡æ§‹æ§åˆ¶å™¨ |
| **å¯¦ä½œæœå‹™å±¤** | `02-service-layer.md` | å¯¦ä½œæ¥­å‹™é‚è¼¯ã€è¨­è¨ˆæœå‹™ä»‹é¢ |
| **è³‡æ–™å­˜å–** | `03-data-access-layer.md` | å¯¦ä½œ Repositoryã€è³‡æ–™åº«æŸ¥è©¢ |
| **éŒ¯èª¤è™•ç†** | `04-error-handling.md` | è¨­è¨ˆéŒ¯èª¤è™•ç†ç­–ç•¥ã€è‡ªè¨‚éŒ¯èª¤ |
| **é©—è­‰æˆæ¬Š** | `05-validation.md` | å¯¦ä½œè¼¸å…¥é©—è­‰ã€èº«ä»½é©—è­‰ |
| **æ’°å¯«æ¸¬è©¦** | `06-testing.md` | æ’°å¯«å–®å…ƒæ¸¬è©¦ã€æ•´åˆæ¸¬è©¦ |
| **API è¨­è¨ˆ** | `07-api-design.md` | è¨­è¨ˆ RESTful APIã€ç‰ˆæœ¬æ§åˆ¶ |
| **è³‡æ–™åº«æ¨¡å¼** | `08-database-patterns.md` | Transactionã€Migrationã€Seeding |
| **å¿«å–ç­–ç•¥** | `09-caching-strategies.md` | Redisã€è¨˜æ†¶é«”å¿«å–ã€å¿«å–å¤±æ•ˆ |
| **æ—¥èªŒç›£æ§** | `10-logging-monitoring.md` | çµæ§‹åŒ–æ—¥èªŒã€æ•ˆèƒ½ç›£æ§ |
| **å®‰å…¨æ€§** | `11-security.md` | SQL æ³¨å…¥é˜²è­·ã€XSSã€CSRF |
| **éƒ¨ç½²** | `12-deployment.md` | Dockerã€CI/CDã€å¥åº·æª¢æŸ¥ |

---

## 5. å¸¸è¦‹å•é¡Œé€ŸæŸ¥

### Q1: æ§åˆ¶å™¨æ‡‰è©²åŒ…å«æ¥­å‹™é‚è¼¯å—ï¼Ÿ
**A**: âŒ ä¸æ‡‰è©²ã€‚æ§åˆ¶å™¨åªè² è²¬ï¼š
1. æ¥æ”¶ HTTP è«‹æ±‚
2. èª¿ç”¨æœå‹™å±¤
3. è¿”å› HTTP éŸ¿æ‡‰

æ¥­å‹™é‚è¼¯æ‡‰è©²åœ¨æœå‹™å±¤ã€‚

### Q2: ä½•æ™‚ä½¿ç”¨ Transactionï¼Ÿ
**A**: ç•¶ä¸€å€‹æ“ä½œæ¶‰åŠå¤šå€‹è³‡æ–™åº«å¯«å…¥ï¼Œä¸”å¿…é ˆå…¨éƒ¨æˆåŠŸæˆ–å…¨éƒ¨å¤±æ•—æ™‚ã€‚
**è©³ç´°** â†’ `resources/08-database-patterns.md#transactions`

### Q3: å¦‚ä½•è™•ç†éåŒæ­¥éŒ¯èª¤ï¼Ÿ
**A**: ä½¿ç”¨ `try-catch` æˆ–å…¨åŸŸéŒ¯èª¤è™•ç†ä¸­ä»‹å±¤ã€‚
**è©³ç´°** â†’ `resources/04-error-handling.md#async-errors`

### Q4: Repository æ‡‰è©²è¿”å›å¯¦é«”é‚„æ˜¯ DTOï¼Ÿ
**A**: Repository è¿”å›å¯¦é«”ï¼ˆEntityï¼‰ï¼Œæœå‹™å±¤è² è²¬è½‰æ›ç‚º DTOã€‚
**è©³ç´°** â†’ `resources/03-data-access-layer.md#entity-vs-dto`

### Q5: å¦‚ä½•æ¸¬è©¦ä¾è³´å¤–éƒ¨ API çš„æœå‹™ï¼Ÿ
**A**: ä½¿ç”¨ Mock æˆ– Stubã€‚
**è©³ç´°** â†’ `resources/06-testing.md#mocking-external-services`

---

## 6. ç›¸é—œæŠ€èƒ½

- **`database-design`** - è³‡æ–™åº« schema è¨­è¨ˆ
- **`api-security`** - API å®‰å…¨æ·±å…¥æŒ‡å—
- **`performance-tuning`** - æ•ˆèƒ½å„ªåŒ–å°ˆé¡Œ
- **`microservices-patterns`** - å¾®æœå‹™æ¶æ§‹æ¨¡å¼

---

## 7. æ±ºç­–æµç¨‹åœ–

ç•¶ä½ ä¸ç¢ºå®šæ‡‰è©²åœ¨å“ªä¸€å±¤å¯¦ä½œæŸå€‹åŠŸèƒ½æ™‚ï¼š

\`\`\`mermaid
flowchart TD
    Start[éœ€è¦å¯¦ä½œåŠŸèƒ½] --> Q1{æ˜¯å¦æ¶‰åŠ<br/>HTTP è«‹æ±‚/éŸ¿æ‡‰?}
    Q1 -->|æ˜¯| Controller[åœ¨ Controller å±¤]
    Q1 -->|å¦| Q2{æ˜¯å¦æ¶‰åŠ<br/>æ¥­å‹™è¦å‰‡?}
    Q2 -->|æ˜¯| Service[åœ¨ Service å±¤]
    Q2 -->|å¦| Q3{æ˜¯å¦æ¶‰åŠ<br/>è³‡æ–™åº«æ“ä½œ?}
    Q3 -->|æ˜¯| Repository[åœ¨ Repository å±¤]
    Q3 -->|å¦| Utility[è€ƒæ…®å»ºç«‹ Utility å‡½æ•¸]

    style Controller fill:#e1f5ff
    style Service fill:#fff3e0
    style Repository fill:#c8e6c9
\`\`\`

---

## 8. ç‰ˆæœ¬è³‡è¨Š

- **ç‰ˆæœ¬**: 1.0.0
- **æœ€å¾Œæ›´æ–°**: 2024-03-10
- **é©ç”¨æ¡†æ¶**: Express.js, NestJS
- **TypeScript ç‰ˆæœ¬**: 5.0+

éœ€è¦æ›´æ–°æˆ–æœ‰å»ºè­°ï¼Ÿè¯ç¹«åœ˜éšŠç¶­è­·è€…ã€‚
```

**ç¨‹å¼ç¢¼èªªæ˜**ï¼š

â€¹1â€º **åˆ†å±¤æ¶æ§‹åŸå‰‡**
æ˜ç¢ºå®šç¾©æ¯ä¸€å±¤çš„è·è²¬ï¼Œé˜²æ­¢è·¨å±¤èª¿ç”¨å°è‡´çš„è€¦åˆã€‚

â€¹2â€º **å–®ä¸€è·è²¬åŸå‰‡**
æ¯å€‹æ¨¡çµ„åªåšä¸€ä»¶äº‹ï¼Œä½¿å¾—ç¨‹å¼ç¢¼æ˜“æ–¼ç†è§£å’Œæ¸¬è©¦ã€‚

â€¹3â€º **ä¾è³´æ³¨å…¥**
é€šéå»ºæ§‹å­æ³¨å…¥ä¾è³´ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ `new` é—œéµå­—ï¼Œé€™ä½¿å¾—æ¸¬è©¦æ™‚å¯ä»¥è¼•é¬†æ›¿æ›å¯¦ä½œã€‚

â€¹4â€º **æ˜ç¢ºéŒ¯èª¤è™•ç†**
ä½¿ç”¨èªç¾©åŒ–çš„éŒ¯èª¤é¡åˆ¥ï¼Œè®“éŒ¯èª¤æ„åœ–æ¸…æ™°ï¼Œä¾¿æ–¼å…¨åŸŸè™•ç†ã€‚

â€¹5â€º **æ¸¬è©¦å„ªå…ˆ**
å…ˆå¯«æ¸¬è©¦å¼·è¿«ä½ æ€è€ƒ API çš„å¯ç”¨æ€§å’Œé‚Šç•Œæ¢ä»¶ã€‚

---

## 2.4 å¯¦ä½œè³‡æºæª”æ¡ˆ

ç¾åœ¨è®“æˆ‘å€‘å¯¦ä½œå¹¾å€‹é—œéµçš„è³‡æºæª”æ¡ˆã€‚

### 2.4.1 æ§åˆ¶å™¨æ¨¡å¼ï¼ˆresources/01-controller-patterns.mdï¼‰

**`.claude/skills/backend-dev-guidelines/resources/01-controller-patterns.md`**:

```markdown
# æ§åˆ¶å™¨è¨­è¨ˆæ¨¡å¼

æ§åˆ¶å™¨æ˜¯ HTTP å±¤èˆ‡æ¥­å‹™é‚è¼¯å±¤ä¹‹é–“çš„æ©‹æ¨‘ã€‚æœ¬æ–‡æª”è©³ç´°èªªæ˜å¦‚ä½•è¨­è¨ˆé«˜å“è³ªçš„æ§åˆ¶å™¨ã€‚

---

## 1. æ§åˆ¶å™¨çš„è·è²¬

### æ‡‰è©²åšçš„äº‹ âœ…

1. **æ¥æ”¶ä¸¦è§£æ HTTP è«‹æ±‚**
   ```typescript
   const { id } = req.params;
   const userData = req.body;
   ```

2. **èª¿ç”¨æœå‹™å±¤**
   ```typescript
   const user = await this.userService.update(id, userData);
   ```

3. **è¿”å› HTTP éŸ¿æ‡‰**
   ```typescript
   res.json({ data: user });
   ```

4. **è™•ç† HTTP ç‰¹å®šé‚è¼¯**
   - ç‹€æ…‹ç¢¼é¸æ“‡
   - Header è¨­å®š
   - Cookie ç®¡ç†

### ä¸æ‡‰è©²åšçš„äº‹ âŒ

1. **åŒ…å«æ¥­å‹™é‚è¼¯**
   ```typescript
   // âŒ éŒ¯èª¤ï¼šæ¥­å‹™é‚è¼¯åœ¨æ§åˆ¶å™¨ä¸­
   async createUser(req: Request, res: Response) {
     if (req.body.age < 18) {  // æ¥­å‹™è¦å‰‡
       throw new Error('æœªæˆå¹´');
     }
     // ...
   }

   // âœ… æ­£ç¢ºï¼šæ¥­å‹™é‚è¼¯åœ¨æœå‹™å±¤
   async createUser(req: Request, res: Response) {
     const user = await this.userService.create(req.body);
     res.status(201).json({ data: user });
   }
   ```

2. **ç›´æ¥æ“ä½œè³‡æ–™åº«**
   ```typescript
   // âŒ éŒ¯èª¤
   async getUser(req: Request, res: Response) {
     const user = await db.query('SELECT * FROM users WHERE id = ?', [req.params.id]);
   }

   // âœ… æ­£ç¢º
   async getUser(req: Request, res: Response) {
     const user = await this.userService.findById(req.params.id);
   }
   ```

3. **åŒ…å«è¤‡é›œçš„è³‡æ–™è½‰æ›**
   ```typescript
   // âŒ éŒ¯èª¤
   async getUsers(req: Request, res: Response) {
     const users = await this.userService.findAll();
     const transformed = users.map(user => ({
       // 100 è¡Œçš„è¤‡é›œè½‰æ›é‚è¼¯
     }));
   }

   // âœ… æ­£ç¢ºï¼šè½‰æ›é‚è¼¯åœ¨æœå‹™å±¤æˆ–å°ˆé–€çš„ Mapper
   async getUsers(req: Request, res: Response) {
     const users = await this.userService.findAll();
     res.json({ data: users });  // æœå‹™å±¤å·²ç¶“è¿”å›æ­£ç¢ºæ ¼å¼
   }
   ```

---

## 2. æ¨™æº–æ§åˆ¶å™¨çµæ§‹

### 2.1 åŸºç¤æ¨¡æ¿

\`\`\`typescript
import { Request, Response } from 'express';
import { UserService } from '../services/UserService';
import { CreateUserDTO, UpdateUserDTO } from '../dtos/user.dto';

export class UserController {
  constructor(private userService: UserService) {} â€¹1â€º

  /**
   * å‰µå»ºä½¿ç”¨è€…
   * POST /api/users
   */
  async create(req: Request, res: Response): Promise<void> { â€¹2â€º
    const userData: CreateUserDTO = req.body;
    const user = await this.userService.create(userData);
    res.status(201).json({ data: user }); â€¹3â€º
  }

  /**
   * å–å¾—ä½¿ç”¨è€…
   * GET /api/users/:id
   */
  async getById(req: Request, res: Response): Promise<void> {
    const { id } = req.params;
    const user = await this.userService.findById(id);
    res.json({ data: user });
  }

  /**
   * æ›´æ–°ä½¿ç”¨è€…
   * PUT /api/users/:id
   */
  async update(req: Request, res: Response): Promise<void> {
    const { id } = req.params;
    const userData: UpdateUserDTO = req.body;
    const user = await this.userService.update(id, userData);
    res.json({ data: user });
  }

  /**
   * åˆªé™¤ä½¿ç”¨è€…
   * DELETE /api/users/:id
   */
  async delete(req: Request, res: Response): Promise<void> {
    const { id } = req.params;
    await this.userService.delete(id);
    res.status(204).send(); â€¹4â€º
  }

  /**
   * æŸ¥è©¢ä½¿ç”¨è€…åˆ—è¡¨
   * GET /api/users
   */
  async list(req: Request, res: Response): Promise<void> {
    const { page = 1, limit = 20, search } = req.query; â€¹5â€º
    const result = await this.userService.findAll({
      page: Number(page),
      limit: Number(limit),
      search: search as string
    });
    res.json(result);
  }
}
\`\`\`

**ç¨‹å¼ç¢¼èªªæ˜**ï¼š

â€¹1â€º **ä¾è³´æ³¨å…¥**
é€šéå»ºæ§‹å­æ³¨å…¥æœå‹™ï¼Œè€Œä¸æ˜¯åœ¨æ–¹æ³•å…§éƒ¨å‰µå»ºå¯¦ä¾‹ã€‚

â€¹2â€º **æ˜ç¢ºçš„è¿”å›é¡å‹**
`Promise<void>` è¡¨ç¤ºé€™æ˜¯ç•°æ­¥å‡½æ•¸ï¼Œä½†ä¸è¿”å›å€¼ï¼ˆHTTP éŸ¿æ‡‰é€šé `res` ç‰©ä»¶ç™¼é€ï¼‰ã€‚

â€¹3â€º **æ¨™æº–åŒ–éŸ¿æ‡‰æ ¼å¼**
ä½¿ç”¨ `{ data: ... }` åŒ…è£è¿”å›è³‡æ–™ï¼Œä¿æŒ API å›æ‡‰ä¸€è‡´æ€§ã€‚

â€¹4â€º **204 No Content**
åˆªé™¤æˆåŠŸå¾Œè¿”å› 204ï¼Œè¡¨ç¤ºæ“ä½œæˆåŠŸä½†æ²’æœ‰å…§å®¹è¿”å›ã€‚

â€¹5â€º **æŸ¥è©¢åƒæ•¸è§£æ**
å¾ `req.query` æå–åƒæ•¸ï¼Œä¸¦é€²è¡Œå‹åˆ¥è½‰æ›ã€‚

---

## 3. éŒ¯èª¤è™•ç†

### 3.1 ä½¿ç”¨ Try-Catchï¼ˆä¸æ¨è–¦ï¼‰

\`\`\`typescript
// âŒ æ¯å€‹æ–¹æ³•éƒ½å¯« try-catch å¾ˆç¹ç‘£
async create(req: Request, res: Response): Promise<void> {
  try {
    const user = await this.userService.create(req.body);
    res.status(201).json({ data: user });
  } catch (error) {
    if (error instanceof BadRequestError) {
      res.status(400).json({ error: error.message });
    } else {
      res.status(500).json({ error: 'å…§éƒ¨éŒ¯èª¤' });
    }
  }
}
\`\`\`

### 3.2 ä½¿ç”¨å…¨åŸŸéŒ¯èª¤è™•ç†å™¨ï¼ˆæ¨è–¦ï¼‰

\`\`\`typescript
// âœ… æ§åˆ¶å™¨åªæ‹‹å‡ºéŒ¯èª¤ï¼Œç”±ä¸­ä»‹å±¤çµ±ä¸€è™•ç†
async create(req: Request, res: Response): Promise<void> {
  const user = await this.userService.create(req.body); â€¹1â€º
  res.status(201).json({ data: user });
}

// å…¨åŸŸéŒ¯èª¤è™•ç†ä¸­ä»‹å±¤
app.use((err: Error, req: Request, res: Response, next: NextFunction) => {
  if (err instanceof BadRequestError) {
    return res.status(400).json({ error: err.message });
  }
  if (err instanceof NotFoundError) {
    return res.status(404).json({ error: err.message });
  }
  // å…¶ä»–éŒ¯èª¤é¡å‹...
  res.status(500).json({ error: 'å…§éƒ¨ä¼ºæœå™¨éŒ¯èª¤' });
});
\`\`\`

â€¹1â€º **ä¿¡ä»»æœå‹™å±¤**
æœå‹™å±¤æ‹‹å‡ºçš„éŒ¯èª¤æœƒè¢«å…¨åŸŸè™•ç†å™¨æ•ç²ï¼Œæ§åˆ¶å™¨ç„¡éœ€é¡å¤–è™•ç†ã€‚

---

## 4. é©—è­‰èˆ‡æˆæ¬Š

### 4.1 è¼¸å…¥é©—è­‰

ä½¿ç”¨ `express-validator`ï¼š

\`\`\`typescript
import { body, param, validationResult } from 'express-validator';

export class UserController {
  // é©—è­‰è¦å‰‡
  static createValidation = [ â€¹1â€º
    body('email').isEmail().withMessage('ç„¡æ•ˆçš„éƒµç®±'),
    body('password').isLength({ min: 8 }).withMessage('å¯†ç¢¼è‡³å°‘ 8 å­—å…ƒ'),
    body('name').trim().notEmpty().withMessage('å§“åä¸èƒ½ç‚ºç©º')
  ];

  async create(req: Request, res: Response): Promise<void> {
    // æª¢æŸ¥é©—è­‰çµæœ
    const errors = validationResult(req); â€¹2â€º
    if (!errors.isEmpty()) {
      return res.status(400).json({ errors: errors.array() });
    }

    const user = await this.userService.create(req.body);
    res.status(201).json({ data: user });
  }
}

// è·¯ç”±é…ç½®
router.post('/users',
  UserController.createValidation, â€¹3â€º
  (req, res) => userController.create(req, res)
);
\`\`\`

â€¹1â€º **éœæ…‹é©—è­‰è¦å‰‡**
å°‡é©—è­‰è¦å‰‡å®šç¾©ç‚ºéœæ…‹å±¬æ€§ï¼Œå¯ä»¥åœ¨è·¯ç”±ä¸­é‡ç”¨ã€‚

â€¹2â€º **é©—è­‰çµæœæª¢æŸ¥**
åœ¨æ§åˆ¶å™¨æ–¹æ³•é–‹å§‹æ™‚æª¢æŸ¥é©—è­‰çµæœã€‚

â€¹3â€º **ä¸­ä»‹å±¤éˆ**
é©—è­‰è¦å‰‡ä½œç‚ºä¸­ä»‹å±¤åœ¨è·¯ç”±ä¸­ä½¿ç”¨ã€‚

### 4.2 èº«ä»½é©—è­‰

\`\`\`typescript
// èº«ä»½é©—è­‰ä¸­ä»‹å±¤
const authenticate = async (req: Request, res: Response, next: NextFunction) => {
  const token = req.headers.authorization?.replace('Bearer ', '');
  if (!token) {
    return res.status(401).json({ error: 'æœªèªè­‰' });
  }

  try {
    const user = await verifyToken(token);
    req.user = user; â€¹1â€º
    next();
  } catch (error) {
    res.status(401).json({ error: 'ç„¡æ•ˆ token' });
  }
};

// è·¯ç”±é…ç½®
router.get('/profile',
  authenticate, â€¹2â€º
  (req, res) => userController.getProfile(req, res)
);

// æ§åˆ¶å™¨
async getProfile(req: Request, res: Response): Promise<void> {
  const userId = req.user.id; â€¹3â€º
  const user = await this.userService.findById(userId);
  res.json({ data: user });
}
\`\`\`

â€¹1â€º **æ“´å±• Request**
å°‡èªè­‰å¾Œçš„ä½¿ç”¨è€…è³‡è¨Šé™„åŠ åˆ° `req` ç‰©ä»¶ã€‚

â€¹2â€º **èªè­‰ä¸­ä»‹å±¤**
åœ¨éœ€è¦èªè­‰çš„è·¯ç”±ä¸Šä½¿ç”¨ `authenticate` ä¸­ä»‹å±¤ã€‚

â€¹3â€º **ä½¿ç”¨èªè­‰è³‡è¨Š**
æ§åˆ¶å™¨å¯ä»¥ç›´æ¥å¾ `req.user` ç²å–ç•¶å‰ä½¿ç”¨è€…ã€‚

---

## 5. åˆ†é èˆ‡éæ¿¾

\`\`\`typescript
interface ListQuery {
  page?: number;
  limit?: number;
  sortBy?: string;
  order?: 'asc' | 'desc';
  search?: string;
  filters?: Record<string, any>;
}

async list(req: Request, res: Response): Promise<void> {
  // è§£ææŸ¥è©¢åƒæ•¸
  const query: ListQuery = {
    page: Number(req.query.page) || 1,
    limit: Math.min(Number(req.query.limit) || 20, 100), â€¹1â€º
    sortBy: req.query.sortBy as string || 'createdAt',
    order: (req.query.order as 'asc' | 'desc') || 'desc',
    search: req.query.search as string,
    filters: this.parseFilters(req.query)
  };

  const result = await this.userService.findAll(query); â€¹2â€º

  // è¿”å›åˆ†é è³‡è¨Š
  res.json({
    data: result.items,
    meta: {
      total: result.total,
      page: query.page,
      limit: query.limit,
      totalPages: Math.ceil(result.total / query.limit!)
    }
  });
}

private parseFilters(query: any): Record<string, any> {
  const filters: Record<string, any> = {};

  if (query.role) filters.role = query.role;
  if (query.status) filters.status = query.status;
  if (query.createdAfter) filters.createdAfter = new Date(query.createdAfter);

  return filters;
}
\`\`\`

â€¹1â€º **é™åˆ¶ limit ä¸Šé™**
é˜²æ­¢å®¢æˆ¶ç«¯è«‹æ±‚éå¤šè³‡æ–™ï¼Œè¨­å®šæœ€å¤§å€¼ï¼ˆå¦‚ 100ï¼‰ã€‚

â€¹2â€º **å‚³éçµæ§‹åŒ–æŸ¥è©¢**
å°‡è§£æå¾Œçš„æŸ¥è©¢åƒæ•¸ä½œç‚ºç‰©ä»¶å‚³éçµ¦æœå‹™å±¤ã€‚

---

## 6. æª”æ¡ˆä¸Šå‚³

\`\`\`typescript
import multer from 'multer';

// é…ç½® multer
const upload = multer({
  dest: 'uploads/',
  limits: { fileSize: 5 * 1024 * 1024 }, // 5MB
  fileFilter: (req, file, cb) => {
    if (file.mimetype.startsWith('image/')) {
      cb(null, true);
    } else {
      cb(new Error('åªå…è¨±ä¸Šå‚³åœ–ç‰‡'));
    }
  }
});

// æ§åˆ¶å™¨
async uploadAvatar(req: Request, res: Response): Promise<void> {
  if (!req.file) {
    return res.status(400).json({ error: 'æœªä¸Šå‚³æª”æ¡ˆ' });
  }

  const userId = req.user.id;
  const avatarUrl = await this.userService.updateAvatar(userId, req.file); â€¹1â€º

  res.json({ data: { avatarUrl } });
}

// è·¯ç”±
router.post('/users/:id/avatar',
  authenticate,
  upload.single('avatar'), â€¹2â€º
  (req, res) => userController.uploadAvatar(req, res)
);
\`\`\`

â€¹1â€º **æœå‹™å±¤è™•ç†æª”æ¡ˆ**
æ§åˆ¶å™¨åªè² è²¬æ¥æ”¶æª”æ¡ˆï¼Œå¯¦éš›çš„å­˜å„²é‚è¼¯ï¼ˆä¸Šå‚³åˆ° S3ã€è™•ç†åœ–ç‰‡ç­‰ï¼‰åœ¨æœå‹™å±¤ã€‚

â€¹2â€º **Multer ä¸­ä»‹å±¤**
ä½¿ç”¨ `upload.single('avatar')` è™•ç†å–®æª”æ¡ˆä¸Šå‚³ã€‚

---

## 7. éåŒæ­¥æ“ä½œèˆ‡ä»»å‹™éšŠåˆ—

å°æ–¼è€—æ™‚æ“ä½œï¼ˆå¦‚ç™¼é€éƒµä»¶ã€ç”Ÿæˆå ±è¡¨ï¼‰ï¼Œæ‡‰è©²è¿”å› 202 Accepted ä¸¦ä½¿ç”¨ä»»å‹™éšŠåˆ—ï¼š

\`\`\`typescript
async generateReport(req: Request, res: Response): Promise<void> {
  const { startDate, endDate } = req.body;

  // å°‡ä»»å‹™åŠ å…¥éšŠåˆ—
  const job = await this.reportQueue.add('generate-report', {
    userId: req.user.id,
    startDate,
    endDate
  });

  // ç«‹å³è¿”å› 202
  res.status(202).json({
    message: 'å ±è¡¨ç”Ÿæˆä¸­',
    jobId: job.id, â€¹1â€º
    statusUrl: `/api/jobs/${job.id}` â€¹2â€º
  });
}

async getJobStatus(req: Request, res: Response): Promise<void> {
  const { jobId } = req.params;
  const job = await this.reportQueue.getJob(jobId);

  if (!job) {
    return res.status(404).json({ error: 'ä»»å‹™ä¸å­˜åœ¨' });
  }

  res.json({
    status: await job.getState(),
    progress: job.progress(),
    result: job.returnvalue
  });
}
\`\`\`

â€¹1â€º **è¿”å›ä»»å‹™ ID**
å®¢æˆ¶ç«¯å¯ä»¥ä½¿ç”¨æ­¤ ID æŸ¥è©¢ä»»å‹™ç‹€æ…‹ã€‚

â€¹2â€º **æä¾›ç‹€æ…‹æŸ¥è©¢ URL**
éµå¾ª HATEOAS åŸå‰‡ï¼Œè®“ API è‡ªæˆ‘æè¿°ã€‚

---

## 8. å¸¸è¦‹æ¨¡å¼ç¸½çµ

| æ¨¡å¼ | ä½¿ç”¨å ´æ™¯ | ç¯„ä¾‹ |
|------|---------|------|
| **CRUD** | æ¨™æº–è³‡æºæ“ä½œ | ä½¿ç”¨è€…ã€æ–‡ç« ç®¡ç† |
| **æ‰¹æ¬¡æ“ä½œ** | ä¸€æ¬¡è™•ç†å¤šå€‹è³‡æº | æ‰¹æ¬¡åˆªé™¤ã€æ‰¹æ¬¡æ›´æ–° |
| **éåŒæ­¥ä»»å‹™** | è€—æ™‚æ“ä½œ | å ±è¡¨ç”Ÿæˆã€éƒµä»¶ç™¼é€ |
| **æª”æ¡ˆä¸Šå‚³** | è™•ç†åª’é«”è³‡æº | é ­åƒã€é™„ä»¶ä¸Šå‚³ |
| **æœå°‹éæ¿¾** | è¤‡é›œæŸ¥è©¢ | ä½¿ç”¨è€…åˆ—è¡¨ã€ç”¢å“æœå°‹ |
| **å·¢ç‹€è³‡æº** | è³‡æºé–“é—œä¿‚ | `/users/:id/posts` |

---

## 9. æª¢æŸ¥æ¸…å–®

åœ¨æäº¤æ§åˆ¶å™¨ç¨‹å¼ç¢¼å‰ï¼Œç¢ºèªï¼š

- [ ] æ§åˆ¶å™¨ä¸åŒ…å«æ¥­å‹™é‚è¼¯
- [ ] ä½¿ç”¨ä¾è³´æ³¨å…¥
- [ ] æ‰€æœ‰å…¬é–‹æ–¹æ³•éƒ½æœ‰ JSDoc è¨»è§£
- [ ] éŒ¯èª¤ç”±æœå‹™å±¤æ‹‹å‡ºï¼Œæ§åˆ¶å™¨ä¸è™•ç†
- [ ] ä½¿ç”¨é©—è­‰ä¸­ä»‹å±¤é©—è­‰è¼¸å…¥
- [ ] è¿”å›é©ç•¶çš„ HTTP ç‹€æ…‹ç¢¼
- [ ] ä½¿ç”¨æ¨™æº–åŒ–çš„éŸ¿æ‡‰æ ¼å¼
- [ ] è™•ç†åˆ†é åƒæ•¸æ™‚è¨­å®šä¸Šé™
- [ ] éåŒæ­¥æ“ä½œè¿”å› 202 Accepted

---

**ç›¸é—œè³‡æº**ï¼š
- `02-service-layer.md` - æœå‹™å±¤è¨­è¨ˆ
- `04-error-handling.md` - éŒ¯èª¤è™•ç†ç­–ç•¥
- `05-validation.md` - é©—è­‰è©³ç´°æŒ‡å—
```

---

## 2.5 å»ºç«‹æŠ€èƒ½å…ƒè³‡æ–™

å…ƒè³‡æ–™æª”æ¡ˆå¹«åŠ©è¿½è¹¤æŠ€èƒ½çš„ç‰ˆæœ¬ã€ç¶­è­·è€…å’Œä¾è³´é—œä¿‚ï¼š

**`.claude/skills/backend-dev-guidelines/metadata.json`**:

```json
{
  "name": "backend-dev-guidelines",
  "version": "1.0.0",
  "description": "TypeScript å¾Œç«¯é–‹ç™¼å®Œæ•´æŒ‡å—ï¼Œæ¶µè“‹æ§åˆ¶å™¨ã€æœå‹™å±¤ã€è³‡æ–™å­˜å–ç­‰12å€‹ä¸»é¡Œ",
  "author": {
    "name": "é–‹ç™¼åœ˜éšŠ",
    "email": "dev-team@example.com"
  },
  "maintainers": [
    {
      "name": "Sarah Chen",
      "email": "sarah@example.com"
    }
  ],
  "created": "2024-03-01",
  "lastUpdated": "2024-03-10",
  "framework": "Express.js, NestJS",
  "language": "TypeScript 5.0+",
  "dependencies": {
    "skills": [],
    "npm": [
      "express",
      "express-validator",
      "typeorm"
    ]
  },
  "resources": [
    {
      "file": "01-controller-patterns.md",
      "title": "æ§åˆ¶å™¨è¨­è¨ˆæ¨¡å¼",
      "topics": ["controller", "HTTP", "routing"]
    },
    {
      "file": "02-service-layer.md",
      "title": "æœå‹™å±¤æ¶æ§‹",
      "topics": ["service", "business logic", "dependency injection"]
    },
    {
      "file": "03-data-access-layer.md",
      "title": "è³‡æ–™å­˜å–å±¤",
      "topics": ["repository", "database", "ORM"]
    }
  ],
  "tags": [
    "backend",
    "typescript",
    "api",
    "microservices"
  ],
  "changeLog": [
    {
      "version": "1.0.0",
      "date": "2024-03-10",
      "changes": [
        "åˆå§‹ç‰ˆæœ¬",
        "åŒ…å«12å€‹è³‡æºä¸»é¡Œ"
      ]
    }
  ]
}
```

---

## 2.6 åœ¨è¦å‰‡ä¸­é…ç½®æŠ€èƒ½

æ›´æ–° `skill-rules.json` ä»¥åŒ…å«æ–°æŠ€èƒ½çš„è©³ç´°è§¸ç™¼è¦å‰‡ï¼š

**`.claude/skills/skill-rules.json`**:

```json
{
  "version": "1.0",
  "skills": {
    "backend-dev-guidelines": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "pathPatterns": [
        "src/api/**/*.ts",
        "src/controllers/**/*.ts",
        "src/services/**/*.ts",
        "src/repositories/**/*.ts",
        "backend/**/*.ts",
        "server/**/*.ts"
      ],
      "promptTriggers": {
        "keywords": [
          "controller",
          "service",
          "route",
          "API",
          "backend",
          "endpoint",
          "REST",
          "repository"
        ],
        "intents": [
          "create.*controller",
          "implement.*service",
          "add.*route",
          "build.*API",
          "design.*endpoint",
          "write.*repository"
        ]
      },
      "exclusions": {
        "paths": [
          "**/*.test.ts",
          "**/*.spec.ts",
          "**/__tests__/**",
          "**/__mocks__/**"
        ]
      },
      "resourceMapping": {
        "controller": "01-controller-patterns.md",
        "service": "02-service-layer.md",
        "repository": "03-data-access-layer.md",
        "error": "04-error-handling.md",
        "validation": "05-validation.md",
        "test": "06-testing.md",
        "api": "07-api-design.md",
        "database": "08-database-patterns.md",
        "cache": "09-caching-strategies.md",
        "logging": "10-logging-monitoring.md",
        "security": "11-security.md",
        "deployment": "12-deployment.md"
      }
    }
  }
}
```

**æ–°å¢æ¬„ä½èªªæ˜**ï¼š

- `resourceMapping` â€¹1â€ºï¼šå®šç¾©é—œéµå­—èˆ‡è³‡æºæª”æ¡ˆçš„æ˜ å°„é—œä¿‚ã€‚ç•¶æª¢æ¸¬åˆ°ç‰¹å®šé—œéµå­—æ™‚ï¼Œå¯ä»¥å»ºè­°è¼‰å…¥å°æ‡‰çš„è³‡æºæª”æ¡ˆã€‚

---

## 2.7 æ¸¬è©¦æŠ€èƒ½ç³»çµ±

### 2.7.1 æ¸¬è©¦å ´æ™¯ 1ï¼šè·¯å¾‘è§¸ç™¼

**æ“ä½œ**ï¼šç·¨è¼¯ `src/api/controllers/user.controller.ts`

**é æœŸçµæœ**ï¼š

```
ğŸ“ æª”æ¡ˆå·²ç·¨è¼¯: user.controller.ts

ğŸ’¡ æª¢æ¸¬åˆ°ç›¸é—œæŠ€èƒ½ï¼š

å»ºè­°æ¿€æ´»ä»¥ä¸‹æŠ€èƒ½ï¼š
1. backend-dev-guidelines (å„ªå…ˆç´š: high, å¼·åˆ¶ç¨‹åº¦: suggest)

è©²æŠ€èƒ½å°‡æä¾›ï¼š
- æ§åˆ¶å™¨è¨­è¨ˆæ¨¡å¼
- æœå‹™å±¤æ¶æ§‹
- è³‡æ–™å­˜å–å±¤æœ€ä½³å¯¦è¸

éœ€è¦æ·±å…¥äº†è§£ï¼Ÿè«‹åƒè€ƒï¼š
- resources/01-controller-patterns.md
```

### 2.7.2 æ¸¬è©¦å ´æ™¯ 2ï¼šé—œéµå­—è§¸ç™¼

**æ“ä½œ**ï¼šè¼¸å…¥ã€Œæˆ‘éœ€è¦å¯¦ä½œä¸€å€‹ API service ä¾†è™•ç†ä½¿ç”¨è€…èªè­‰ã€

**é æœŸçµæœ**ï¼š

```
ğŸ’¡ æ ¹æ“šä½ çš„æç¤ºå’Œç•¶å‰ä¸Šä¸‹æ–‡ï¼Œå»ºè­°æ¿€æ´»ä»¥ä¸‹æŠ€èƒ½ï¼š

1. **backend-dev-guidelines** (suggest)
   å¾Œç«¯é–‹ç™¼æŒ‡å— - TypeScript å¾®æœå‹™

å»ºè­°è¼‰å…¥è³‡æºï¼š
- resources/02-service-layer.mdï¼ˆå¯¦ä½œæœå‹™å±¤ï¼‰
- resources/05-validation.mdï¼ˆèªè­‰èˆ‡æˆæ¬Šï¼‰

é€™äº›æŠ€èƒ½å°‡å¹«åŠ© Claude æä¾›æ›´ç²¾æº–çš„æŒ‡å°ã€‚
```

### 2.7.3 æ¸¬è©¦å ´æ™¯ 3ï¼šè³‡æºè‡ªå‹•è¼‰å…¥

ç•¶ Claude æª¢æ¸¬åˆ°ä½ éœ€è¦ç‰¹å®šä¸»é¡Œçš„è©³ç´°è³‡è¨Šæ™‚ï¼Œå®ƒæ‡‰è©²ä¸»å‹•å»ºè­°è¼‰å…¥å°æ‡‰çš„è³‡æºæª”æ¡ˆï¼š

**ä½¿ç”¨è€…æç¤º**ï¼šã€Œå¦‚ä½•åœ¨æ§åˆ¶å™¨ä¸­è™•ç†æª”æ¡ˆä¸Šå‚³ï¼Ÿã€

**Claude çš„å›æ‡‰**ï¼š

```
æ ¹æ“š backend-dev-guidelines æŠ€èƒ½ï¼Œæˆ‘å»ºè­°åƒè€ƒï¼š

ğŸ“„ resources/01-controller-patterns.md#æª”æ¡ˆä¸Šå‚³

ä»¥ä¸‹æ˜¯å¿«é€Ÿç¯„ä¾‹ï¼š

[æä¾›ç¨‹å¼ç¢¼ç¯„ä¾‹...]

éœ€è¦æ›´å¤šç´°ç¯€ï¼Ÿå®Œæ•´æŒ‡å—åŒ…å«ï¼š
- Multer é…ç½®
- æª”æ¡ˆé©—è­‰
- å­˜å„²ç­–ç•¥ï¼ˆæœ¬åœ° vs. S3ï¼‰
- é€²åº¦è¿½è¹¤
```

---

## 2.8 æŠ€èƒ½çš„ç”Ÿå‘½é€±æœŸ

### 2.8.1 ç‰ˆæœ¬ç®¡ç†

ç•¶æŠ€èƒ½å…§å®¹æ›´æ–°æ™‚ï¼Œæ‡‰è©²ï¼š

1. **æ›´æ–° metadata.json çš„ç‰ˆæœ¬è™Ÿ**
   ```json
   {
     "version": "1.1.0",  // å¾ 1.0.0 å‡ç´š
     "lastUpdated": "2024-03-15"
   }
   ```

2. **åœ¨ changeLog ä¸­è¨˜éŒ„è®Šæ›´**
   ```json
   {
     "changeLog": [
       {
         "version": "1.1.0",
         "date": "2024-03-15",
         "changes": [
           "æ·»åŠ  NestJS ç¯„ä¾‹",
           "æ›´æ–°éŒ¯èª¤è™•ç†æ¨¡å¼",
           "ä¿®æ­£ resources/03 çš„ TypeORM ç¯„ä¾‹"
         ]
       }
     ]
   }
   ```

3. **ä½¿ç”¨èªç¾©åŒ–ç‰ˆæœ¬**
   - `1.0.0 â†’ 1.0.1`ï¼šä¿®æ­£éŒ¯èª¤ã€æ›´æ–°ç¯„ä¾‹
   - `1.0.0 â†’ 1.1.0`ï¼šæ·»åŠ æ–°çš„è³‡æºæª”æ¡ˆæˆ–ç« ç¯€
   - `1.0.0 â†’ 2.0.0`ï¼šé‡å¤§æ¶æ§‹è®Šæ›´ï¼ˆå¦‚å¾ Express é·ç§»åˆ° NestJSï¼‰

### 2.8.2 æŠ€èƒ½å¯©æŸ¥

å®šæœŸå¯©æŸ¥æŠ€èƒ½å…§å®¹ï¼Œç¢ºä¿ï¼š

- [ ] ç¯„ä¾‹ç¨‹å¼ç¢¼å¯é‹è¡Œ
- [ ] éµå¾ªæœ€æ–°çš„æ¡†æ¶ç‰ˆæœ¬
- [ ] é€£çµï¼ˆåˆ°å…¶ä»–è³‡æºï¼‰æœ‰æ•ˆ
- [ ] æ²’æœ‰éæ™‚çš„å»ºè­°
- [ ] èˆ‡åœ˜éšŠç•¶å‰å¯¦è¸ä¸€è‡´

**å»ºè­°é »ç‡**ï¼šæ¯ 3 å€‹æœˆå¯©æŸ¥ä¸€æ¬¡

---

## 2.9 é€²éšï¼šå‹•æ…‹è¼‰å…¥è³‡æº

### 2.9.1 è¨­è¨ˆæ€è·¯

æˆ‘å€‘å¸Œæœ› Claude èƒ½å¤ æ ¹æ“šå°è©±å…§å®¹è‡ªå‹•åˆ¤æ–·æ˜¯å¦éœ€è¦è¼‰å…¥ç‰¹å®šè³‡æºæª”æ¡ˆï¼Œè€Œä¸æ˜¯ä¸€é–‹å§‹å°±è¼‰å…¥æ‰€æœ‰å…§å®¹ã€‚

**å¯¦ä½œæ­¥é©Ÿ**ï¼š

1. **åœ¨ä¸» SKILL.md ä¸­æä¾›ã€Œå°èˆªæç¤ºã€**

```markdown
## ç•¶ä½ é‡åˆ°ä»¥ä¸‹æƒ…æ³æ™‚

å¦‚æœä½¿ç”¨è€…è©¢å•ï¼š
- **æ§åˆ¶å™¨è¨­è¨ˆ** â†’ å‘Šè¨´ä½¿ç”¨è€…ï¼šã€Œæˆ‘å°‡åƒè€ƒ resources/01-controller-patterns.md æä¾›è©³ç´°æŒ‡å°ã€
- **æœå‹™å±¤å¯¦ä½œ** â†’ å‘Šè¨´ä½¿ç”¨è€…ï¼šã€Œæˆ‘å°‡åƒè€ƒ resources/02-service-layer.md æä¾›è©³ç´°æŒ‡å°ã€
- ...

ç„¶å¾Œè«‹æ±‚è¼‰å…¥å°æ‡‰çš„è³‡æºæª”æ¡ˆã€‚
```

2. **Claude çš„è¡Œç‚º**

ç•¶æª¢æ¸¬åˆ°ç›¸é—œé—œéµå­—æ™‚ï¼ŒClaude æœƒï¼š

```
æˆ‘æ³¨æ„åˆ°ä½ æ­£åœ¨å¯¦ä½œæ§åˆ¶å™¨ã€‚è®“æˆ‘è¼‰å…¥è©³ç´°çš„æ§åˆ¶å™¨è¨­è¨ˆæ¨¡å¼æŒ‡å—...

[è‡ªå‹•è¼‰å…¥ resources/01-controller-patterns.md]

æ ¹æ“šæŒ‡å—ï¼Œé€™è£¡æ˜¯ä½ æ‡‰è©²éµå¾ªçš„æ¨¡å¼...
```

3. **ä½¿ç”¨è€…é«”é©—**

ä½¿ç”¨è€…çœ‹åˆ°çš„æ˜¯ï¼š
- ç¬¬ä¸€æ¬¡è©¢å•ï¼šé«˜å±¤æ¬¡çš„å¿«é€Ÿå›ç­”ï¼ˆä¾†è‡ª SKILL.mdï¼‰
- æ·±å…¥è©¢å•ï¼šè©³ç´°çš„æŒ‡å°ï¼ˆä¾†è‡ª resources/*.mdï¼‰
- ç„¡éœ€æ‰‹å‹•æŒ‡å®šè¦è¼‰å…¥å“ªå€‹è³‡æº

---

## 2.10 æ•ˆæœå°æ¯”ï¼šæ¨¡çµ„åŒ– vs. å–®ä¸€æª”æ¡ˆ

### 2.10.1 ä¸Šä¸‹æ–‡ä½¿ç”¨å°æ¯”

**å ´æ™¯**ï¼šä½¿ç”¨è€…è©¢å•ã€Œå¦‚ä½•å¯¦ä½œæ§åˆ¶å™¨ï¼Ÿã€

| é¢å‘ | å–®ä¸€æª”æ¡ˆæŠ€èƒ½ | æ¨¡çµ„åŒ–æŠ€èƒ½ |
|------|-------------|-----------|
| **è¼‰å…¥å…§å®¹** | æ•´å€‹ 2,500 è¡Œæª”æ¡ˆ | SKILL.mdï¼ˆ450 è¡Œï¼‰+ 01-controllerï¼ˆ800 è¡Œï¼‰= 1,250 è¡Œ |
| **Token æ¶ˆè€—** | ~10,000 tokens | ~5,000 tokens |
| **è¼‰å…¥æ™‚é–“** | 2-3 ç§’ | 1-1.5 ç§’ |
| **ç›¸é—œæ€§** | 40%ï¼ˆå¤§é‡ç„¡é—œå…§å®¹ï¼‰ | 95%ï¼ˆé«˜åº¦ç›¸é—œï¼‰ |

**ç¯€çœ**ï¼š50% token ä½¿ç”¨ï¼Œ50% è¼‰å…¥æ™‚é–“

### 2.10.2 ç¶­è­·æ€§å°æ¯”

| ä»»å‹™ | å–®ä¸€æª”æ¡ˆ | æ¨¡çµ„åŒ– |
|------|---------|--------|
| **æ›´æ–°æ§åˆ¶å™¨ç¯„ä¾‹** | åœ¨ 2,500 è¡Œä¸­æœå°‹ | ç›´æ¥ç·¨è¼¯ `01-controller-patterns.md` |
| **æ·»åŠ æ–°ä¸»é¡Œ** | åœ¨æª”æ¡ˆæœ«å°¾è¿½åŠ  | å»ºç«‹æ–°çš„ `13-new-topic.md` |
| **é‡æ§‹æŸå€‹ç« ç¯€** | å½±éŸ¿æ•´å€‹æª”æ¡ˆ | åªå½±éŸ¿å–®ä¸€è³‡æºæª”æ¡ˆ |
| **Git è¡çª** | é«˜ï¼ˆå¤šäººç·¨è¼¯åŒä¸€æª”æ¡ˆï¼‰ | ä½ï¼ˆæ¯äººç·¨è¼¯ä¸åŒè³‡æºï¼‰ |

### 2.10.3 å­¸ç¿’æ›²ç·šå°æ¯”

**æ–°é–‹ç™¼è€…åŠ å…¥åœ˜éšŠ**ï¼š

**å–®ä¸€æª”æ¡ˆæŠ€èƒ½**ï¼š
1. æ‰“é–‹ 2,500 è¡Œæ–‡ä»¶
2. æ„Ÿåˆ° overwhelmed
3. ä½¿ç”¨ Ctrl+F æœå°‹éœ€è¦çš„éƒ¨åˆ†
4. é›£ä»¥ç†è§£å…¨è²Œ

**æ¨¡çµ„åŒ–æŠ€èƒ½**ï¼š
1. é–±è®€ SKILL.mdï¼ˆ450 è¡Œï¼‰ï¼Œç²å¾—å…¨è²Œ
2. æ ¹æ“šéœ€è¦ï¼Œæ·±å…¥ç‰¹å®šä¸»é¡Œ
3. æ¯å€‹è³‡æºæª”æ¡ˆèšç„¦å–®ä¸€ä¸»é¡Œï¼Œæ˜“æ–¼ç†è§£
4. å¯ä»¥æŒ‰å­¸ç¿’é †åºï¼ˆ01, 02, 03...ï¼‰æ¼¸é€²å­¸ç¿’

**å­¸ç¿’é€Ÿåº¦æå‡**ï¼šç´„ 60%

---

## 2.11 æœ€ä½³å¯¦è¸ç¸½çµ

### 2.11.1 æŠ€èƒ½è¨­è¨ˆçš„é»ƒé‡‘æ³•å‰‡

1. **ä¸»æª”æ¡ˆ < 500 è¡Œ** â€¹1â€º
   - æä¾›é«˜å±¤æ¬¡æŒ‡å°
   - åŒ…å«å¿«é€Ÿåƒè€ƒç¯„ä¾‹
   - ä½œç‚ºè³‡æºç´¢å¼•

2. **æ¯å€‹è³‡æºæª”æ¡ˆ < 500 è¡Œ** â€¹2â€º
   - èšç„¦å–®ä¸€ä¸»é¡Œ
   - æ·±å…¥ä½†ä¸å†—é•·
   - å¦‚æœè¶…éï¼Œæ‹†åˆ†å­ä¸»é¡Œ

3. **ä½¿ç”¨æ•¸å­—å‰ç¶´æ’åº** â€¹3â€º
   - 01, 02, 03... è¡¨ç¤ºé‚è¼¯é †åº
   - æ–°æ‰‹å¯ä»¥æŒ‰é †åºå­¸ç¿’
   - æ˜“æ–¼ç®¡ç†

4. **æä¾›æ¸…æ™°çš„ã€Œä½•æ™‚ä½¿ç”¨ã€æŒ‡å—** â€¹4â€º
   - åœ¨ä¸»æª”æ¡ˆä¸­èªªæ˜ä½•æ™‚åƒè€ƒå“ªå€‹è³‡æº
   - ä½¿ç”¨æ±ºç­–æµç¨‹åœ–
   - æä¾›é—œéµå­—æ˜ å°„

5. **ä¿æŒç¯„ä¾‹å¯é‹è¡Œ** â€¹5â€º
   - æ‰€æœ‰ç¨‹å¼ç¢¼ç¯„ä¾‹æ‡‰è©²æ˜¯å®Œæ•´çš„
   - åŒ…å«å¿…è¦çš„ imports
   - æ·»åŠ è¨»è§£èªªæ˜

### 2.11.2 å¸¸è¦‹éŒ¯èª¤

| éŒ¯èª¤ | å¾Œæœ | æ­£ç¢ºåšæ³• |
|------|------|---------|
| **ä¸»æª”æ¡ˆéå¤§** | Claude æ¯æ¬¡éƒ½è¼‰å…¥å¤§é‡ç„¡é—œå…§å®¹ | æ‹†åˆ†ç‚ºè³‡æºæª”æ¡ˆ |
| **è³‡æºæª”æ¡ˆéå°** | æª”æ¡ˆæ•¸é‡éå¤šï¼Œé›£ä»¥ç®¡ç† | åˆä½µç›¸é—œä¸»é¡Œ |
| **æ²’æœ‰æ¸…æ™°çš„ç´¢å¼•** | ä½¿ç”¨è€…ä¸çŸ¥é“ä½•æ™‚åƒè€ƒå“ªå€‹è³‡æº | åœ¨ä¸»æª”æ¡ˆä¸­æä¾›ã€Œè©³ç´°è³‡æºç´¢å¼•ã€è¡¨æ ¼ |
| **ç¯„ä¾‹ç¨‹å¼ç¢¼ä¸å®Œæ•´** | è®€è€…ç„¡æ³•ç›´æ¥ä½¿ç”¨ | æä¾›å®Œæ•´å¯é‹è¡Œçš„ç¯„ä¾‹ |
| **æ²’æœ‰ç‰ˆæœ¬ç®¡ç†** | ç„¡æ³•è¿½è¹¤è®Šæ›´æ­·å² | ä½¿ç”¨ metadata.json è¨˜éŒ„ç‰ˆæœ¬ |

---

## 2.12 ç« ç¯€ç¸½çµ

æ­å–œï¼ä½ å·²ç¶“å­¸æœƒäº†å¦‚ä½•è¨­è¨ˆæ¨¡çµ„åŒ–çš„æŠ€èƒ½ç³»çµ±ã€‚è®“æˆ‘å€‘å›é¡§ä¸€ä¸‹æ ¸å¿ƒæ¦‚å¿µï¼š

### ä½ å»ºç«‹äº†ä»€éº¼

âœ… **æ¨¡çµ„åŒ–æŠ€èƒ½æ¶æ§‹**
   - ä¸»æª”æ¡ˆï¼ˆSKILL.mdï¼‰< 500 è¡Œ
   - 12 å€‹è³‡æºæª”æ¡ˆï¼Œæ¯å€‹èšç„¦å–®ä¸€ä¸»é¡Œ
   - æ¸…æ™°çš„è³‡æºç´¢å¼•èˆ‡å°èˆª

âœ… **å®Œæ•´çš„å¾Œç«¯é–‹ç™¼æŒ‡å—**
   - æ§åˆ¶å™¨ã€æœå‹™å±¤ã€è³‡æ–™å­˜å–å±¤
   - éŒ¯èª¤è™•ç†ã€é©—è­‰ã€æ¸¬è©¦
   - API è¨­è¨ˆã€å®‰å…¨æ€§ã€éƒ¨ç½²

âœ… **æŠ€èƒ½å…ƒè³‡æ–™ç³»çµ±**
   - ç‰ˆæœ¬ç®¡ç†
   - è®Šæ›´æ­·å²è¿½è¹¤
   - ç¶­è­·è€…è³‡è¨Š

âœ… **æ™ºèƒ½è§¸ç™¼è¦å‰‡**
   - è·¯å¾‘æ¨¡å¼åŒ¹é…
   - é—œéµå­—èˆ‡æ„åœ–è­˜åˆ¥
   - è³‡æºæ˜ å°„é…ç½®

### æ ¸å¿ƒæ¦‚å¿µå›é¡§

1. **æ¼¸é€²å¼æ­éœ²ï¼ˆProgressive Disclosureï¼‰**
   å…ˆæä¾›é«˜å±¤æ¬¡æŒ‡å°ï¼Œåªåœ¨éœ€è¦æ™‚æ·±å…¥ç´°ç¯€

2. **å–®ä¸€è·è²¬**
   æ¯å€‹è³‡æºæª”æ¡ˆèšç„¦æ–¼ä¸€å€‹ä¸»é¡Œ

3. **å¯ç™¼ç¾æ€§ï¼ˆDiscoverabilityï¼‰**
   é€šéç´¢å¼•å’Œæ±ºç­–æµç¨‹åœ–ï¼Œè®“ä½¿ç”¨è€…çŸ¥é“ä½•æ™‚åƒè€ƒä»€éº¼

4. **å¯ç¶­è­·æ€§**
   å°æª”æ¡ˆã€æ¸…æ™°çš„çµ„ç¹”ã€ç‰ˆæœ¬ç®¡ç†

### å¯¦éš›æ‡‰ç”¨åƒ¹å€¼

- ğŸ¯ **ä¸Šä¸‹æ–‡ä½¿ç”¨æ¸›å°‘ 50%**ï¼šåªè¼‰å…¥éœ€è¦çš„å…§å®¹
- âš¡ **ç¶­è­·é€Ÿåº¦æå‡ 3 å€**ï¼šæ¯å€‹æª”æ¡ˆç¨ç«‹ç·¨è¼¯
- ğŸ“Š **å­¸ç¿’é€Ÿåº¦æå‡ 60%**ï¼šæ¼¸é€²å¼å­¸ç¿’è·¯å¾‘
- ğŸ›¡ï¸ **é™ä½éŒ¯èª¤ç‡**ï¼šæ¸…æ™°çš„æŒ‡å°å’Œå®Œæ•´ç¯„ä¾‹

### æª¢æŸ¥æ¸…å–®

åœ¨é€²å…¥ä¸‹ä¸€ç« ä¹‹å‰ï¼Œç¢ºä¿ä½ å·²ç¶“å®Œæˆï¼š

- [ ] å»ºç«‹äº†æŠ€èƒ½ç›®éŒ„çµæ§‹ï¼ˆSKILL.md + resources/ï¼‰
- [ ] æ’°å¯«äº†ä¸»æª”æ¡ˆï¼ˆ< 500 è¡Œï¼‰
- [ ] å¯¦ä½œäº†è‡³å°‘ 3 å€‹è³‡æºæª”æ¡ˆ
- [ ] å»ºç«‹äº† metadata.json
- [ ] æ›´æ–°äº† skill-rules.json çš„é…ç½®
- [ ] æ¸¬è©¦äº†è·¯å¾‘è§¸ç™¼å’Œé—œéµå­—è§¸ç™¼
- [ ] é©—è­‰äº† Claude èƒ½æ­£ç¢ºå»ºè­°è¼‰å…¥è³‡æº
- [ ] æ‰€æœ‰ç¯„ä¾‹ç¨‹å¼ç¢¼å¯ä»¥é‹è¡Œ

---

## 2.13 ä¸‹ä¸€ç« é å‘Šï¼šçªç ´ä¸Šä¸‹æ–‡é™åˆ¶çš„æ¨¡çµ„åŒ–ç­–ç•¥

åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘å€‘å­¸æœƒäº†å¦‚ä½•å°‡å¤§å‹æŠ€èƒ½æ‹†åˆ†ç‚ºä¸»æª”æ¡ˆå’Œè³‡æºæª”æ¡ˆã€‚ä½†ç•¶ä½ çš„æŠ€èƒ½åº«å¢é•·åˆ° 50+ã€100+ æŠ€èƒ½æ™‚ï¼Œæœƒé‡åˆ°æ–°çš„æŒ‘æˆ°ï¼š

**ç¬¬ 3 ç« ï¼šçªç ´ä¸Šä¸‹æ–‡é™åˆ¶çš„æ¨¡çµ„åŒ–ç­–ç•¥**

æˆ‘å€‘å°‡æ¢è¨ï¼š
- å¦‚ä½•çµ„ç¹”å¤§å‹æŠ€èƒ½åº«
- æŠ€èƒ½é–“çš„ä¾è³´é—œä¿‚ç®¡ç†
- åˆ†å±¤æŠ€èƒ½æ¶æ§‹ï¼ˆåŸºç¤æŠ€èƒ½ vs. é€²éšæŠ€èƒ½ï¼‰
- å‹•æ…‹è¼‰å…¥ç­–ç•¥ï¼ˆæŒ‰éœ€è¼‰å…¥ vs. é è¼‰å…¥ï¼‰
- æŠ€èƒ½çµ„åˆæ¨¡å¼ï¼ˆå°‡å¤šå€‹æŠ€èƒ½çµ„åˆç‚ºå·¥ä½œæµï¼‰
- ä¸Šä¸‹æ–‡é ç®—ç®¡ç†ï¼ˆå¦‚ä½•åœ¨ 200K tokens é™åˆ¶å…§æœ€å¤§åŒ–åƒ¹å€¼ï¼‰

**æ ¸å¿ƒå°ˆæ¡ˆ**ï¼šå°‡ç¾æœ‰çš„å–®é«”æŠ€èƒ½åº«ï¼ˆ5,000+ è¡Œï¼‰æ‹†åˆ†ç‚ºï¼š
- 3 å€‹åŸºç¤æŠ€èƒ½
- 8 å€‹å°ˆæ¥­æŠ€èƒ½
- 5 å€‹é€²éšæŠ€èƒ½
- å®Œæ•´çš„ä¾è³´é—œä¿‚åœ–

æº–å‚™å¥½äº†å—ï¼Ÿè®“æˆ‘å€‘ç¹¼çºŒæ·±å…¥ï¼

---

## é™„éŒ„ Aï¼šå®Œæ•´æª”æ¡ˆæ¸…å–®

| æª”æ¡ˆè·¯å¾‘ | ç”¨é€” | å¤§å° |
|---------|------|------|
| `.claude/skills/backend-dev-guidelines/SKILL.md` | ä¸»æŠ€èƒ½æª”æ¡ˆ | ~450 è¡Œ |
| `.claude/skills/backend-dev-guidelines/metadata.json` | æŠ€èƒ½å…ƒè³‡æ–™ | ~50 è¡Œ |
| `.claude/skills/backend-dev-guidelines/resources/01-controller-patterns.md` | æ§åˆ¶å™¨è¨­è¨ˆæ¨¡å¼ | ~400 è¡Œ |
| `.claude/skills/backend-dev-guidelines/resources/02-service-layer.md` | æœå‹™å±¤æ¶æ§‹ | ~380 è¡Œ |
| `.claude/skills/backend-dev-guidelines/resources/03-data-access-layer.md` | è³‡æ–™å­˜å–å±¤ | ~420 è¡Œ |
| `.claude/skills/backend-dev-guidelines/resources/04-error-handling.md` | éŒ¯èª¤è™•ç†ç­–ç•¥ | ~350 è¡Œ |
| `.claude/skills/backend-dev-guidelines/resources/05-validation.md` | é©—è­‰èˆ‡æˆæ¬Š | ~320 è¡Œ |
| `.claude/skills/backend-dev-guidelines/resources/06-testing.md` | æ¸¬è©¦æœ€ä½³å¯¦è¸ | ~450 è¡Œ |
| `.claude/skills/backend-dev-guidelines/resources/07-api-design.md` | API è¨­è¨ˆåŸå‰‡ | ~400 è¡Œ |
| `.claude/skills/backend-dev-guidelines/resources/08-database-patterns.md` | è³‡æ–™åº«æ¨¡å¼ | ~380 è¡Œ |
| `.claude/skills/backend-dev-guidelines/resources/09-caching-strategies.md` | å¿«å–ç­–ç•¥ | ~320 è¡Œ |
| `.claude/skills/backend-dev-guidelines/resources/10-logging-monitoring.md` | æ—¥èªŒèˆ‡ç›£æ§ | ~350 è¡Œ |
| `.claude/skills/backend-dev-guidelines/resources/11-security.md` | å®‰å…¨æœ€ä½³å¯¦è¸ | ~400 è¡Œ |
| `.claude/skills/backend-dev-guidelines/resources/12-deployment.md` | éƒ¨ç½²èˆ‡ DevOps | ~380 è¡Œ |

**ç¸½è¨ˆ**ï¼š~5,000 è¡Œï¼ˆæ¨¡çµ„åŒ–å¾Œï¼‰ï¼Œç›¸æ¯”å–®ä¸€æª”æ¡ˆçš„ 5,000 è¡Œï¼Œç¶­è­·æ€§æå‡ 10 å€ã€‚

---

## é™„éŒ„ Bï¼šæŠ€èƒ½è¨­è¨ˆæ¨¡æ¿

ä½¿ç”¨ä»¥ä¸‹æ¨¡æ¿å¿«é€Ÿå»ºç«‹æ–°æŠ€èƒ½ï¼š

### ä¸»æª”æ¡ˆæ¨¡æ¿ï¼ˆSKILL.mdï¼‰

\`\`\`markdown
# [æŠ€èƒ½åç¨±]

## 1. æŠ€èƒ½ç°¡ä»‹
[é€™å€‹æŠ€èƒ½æ˜¯ä»€éº¼ï¼Œé©ç”¨å ´æ™¯]

## 2. æ ¸å¿ƒåŸå‰‡
[3-5 æ¢é«˜å±¤æ¬¡åŸå‰‡]

## 3. å¿«é€Ÿåƒè€ƒ
[10-15 å€‹å¸¸è¦‹ä»»å‹™çš„ç°¡çŸ­ç¯„ä¾‹]

## 4. è©³ç´°è³‡æºç´¢å¼•
[è³‡æºæª”æ¡ˆæ¸…å–®èˆ‡ä½¿ç”¨æŒ‡å—]

## 5. å¸¸è¦‹å•é¡Œé€ŸæŸ¥
[5-10 å€‹ FAQ]

## 6. ç›¸é—œæŠ€èƒ½
[ç›¸é—œæŠ€èƒ½æ¸…å–®]

## 7. æ±ºç­–æµç¨‹åœ–
[Mermaid æµç¨‹åœ–]
```

### è³‡æºæª”æ¡ˆæ¨¡æ¿

\`\`\`markdown
# [è³‡æºä¸»é¡Œ]

## 1. æ¦‚è¿°
[ä¸»é¡Œä»‹ç´¹]

## 2. åŸºç¤æ¦‚å¿µ
[æ ¸å¿ƒæ¦‚å¿µèªªæ˜]

## 3. å®Œæ•´ç¯„ä¾‹
[å¯é‹è¡Œçš„ç¨‹å¼ç¢¼ç¯„ä¾‹]

## 4. é€²éšæ¨¡å¼
[é€²éšç”¨æ³•]

## 5. å¸¸è¦‹éŒ¯èª¤
[éŒ¯èª¤ç¤ºç¯„èˆ‡æ­£ç¢ºåšæ³•]

## 6. æª¢æŸ¥æ¸…å–®
[å¯¦ä½œæª¢æŸ¥æ¸…å–®]

## 7. å»¶ä¼¸é–±è®€
[ç›¸é—œè³‡æºé€£çµ]
\`\`\`

### metadata.json æ¨¡æ¿

\`\`\`json
{
  "name": "skill-name",
  "version": "1.0.0",
  "description": "",
  "author": { "name": "", "email": "" },
  "created": "YYYY-MM-DD",
  "lastUpdated": "YYYY-MM-DD",
  "framework": "",
  "language": "",
  "resources": [],
  "tags": [],
  "changeLog": []
}
\`\`\`

---

**ä½ å·²ç¶“å®Œæˆäº†ç¬¬ 2 ç« ï¼** ğŸ‰

ä½ ç¾åœ¨æŒæ¡äº†æŠ€èƒ½æ¨¡çµ„åŒ–è¨­è¨ˆçš„å®Œæ•´æ–¹æ³•è«–ã€‚åœ¨ä¸‹ä¸€ç« ä¸­ï¼Œæˆ‘å€‘å°‡å­¸ç¿’å¦‚ä½•ç®¡ç†å¤§å‹æŠ€èƒ½åº«ï¼Œçªç ´ä¸Šä¸‹æ–‡é™åˆ¶ã€‚
