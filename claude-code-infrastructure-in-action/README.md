# Claude Code 基礎設施實戰：打造主動感知的 AI 開發環境

**副標題**: Building Intelligent Development Infrastructure with Claude Code

**出版系列**: Manning "in Action" 系列
**目標讀者**: 具備 2-5 年開發經驗，希望系統化提升 AI 輔助開發效率的工程師
**預計頁數**: 350-400 頁
**難度級別**: 中級到進階

---

## 書籍簡介

這是一本專注於 **工程化 AI 開發實踐** 的實戰指南。不同於教你如何使用 AI 寫代碼的入門書，本書聚焦於如何構建一套讓 AI 「真正懂你」的基礎設施系統。

通過本書，你將學會：
- 構建自動感知上下文的 AI 開發環境
- 設計模組化的技能架構突破上下文限制
- 實作專業化 Agents 處理複雜任務
- 建立團隊共享的知識管理系統
- 將 AI 從「被動工具」升級為「主動協作夥伴」

**核心案例**: 本書基於真實的 6 個月企業級微服務重構專案（10 萬行 → 30 萬行），展示如何通過工程化方法，讓單一開發者完成傳統需要團隊數月的工作。

---

## 專案結構

```
claude-code-infrastructure-in-action/
├── README.md                    # 專案總覽（本檔案）
├── BOOK_PROPOSAL.md            # 出版企劃書
├── manuscript/                 # 書稿內容
│   └── chapters/              # 各章節內容
│       ├── chapter-01.md      # 第 1 章
│       ├── chapter-02.md      # 第 2 章
│       └── ...
├── code-examples/             # 完整可運行的程式碼範例
│   ├── chapter-01/           # 第 1 章範例
│   ├── chapter-02/           # 第 2 章範例
│   └── ...
├── diagrams/                  # 技術圖表與架構圖（Mermaid.js）
├── resources/                 # 補充資源
│   ├── skill-templates/      # 技能模板庫
│   ├── agent-templates/      # Agent 模板庫
│   └── best-practices/       # 最佳實踐指南
└── planning/                  # 寫作計畫與進度追蹤
    ├── outline.md            # 完整大綱
    └── progress.md           # 進度追蹤
```

---

## 章節大綱

### 第一部分：基礎篇 - 從被動到主動（Chapters 1-4）

#### ✅ 第 1 章：從零開始打造智能化開發環境
**完成狀態**: 🟢 進行中
**核心專案**: 構建第一個自動激活的 Hook 系統
**學習成果**:
- 理解 Claude Code Hooks 機制
- 實作 skill-activation-prompt hook
- 建立第一個上下文感知系統

**關鍵產出物**:
- `skill-activation-prompt.ts` - 自動激活腳本
- `skill-rules.json` - 技能配置規則
- `.claude/settings.json` - 完整設定

#### ⏳ 第 2 章：設計你的第一個技能模組
**核心專案**: 為 TypeScript 微服務專案建立後端開發指南技能
**學習成果**:
- 掌握技能模組化架構（主檔案 + resources）
- 實作漸進式揭露（Progressive Disclosure）
- 設計關鍵字與路徑觸發規則

#### ⏳ 第 3 章：突破上下文限制的模組化策略
**核心專案**: 將 5000 行的整體技能拆分為 12 個模組
**學習成果**:
- 學習技能分層設計
- 實作資源檔案按需載入
- 建立知識層次結構

#### ⏳ 第 4 章：知識管理的三檔案模式
**核心專案**: 建立 dev-docs 系統處理上下文重置
**學習成果**:
- 實作 [task]-plan.md 戰略規劃
- 建立 [task]-context.md 決策記錄
- 設計 [task]-tasks.md 檢查清單

### 第二部分：進階篇 - Agents 與協作（Chapters 5-8）

#### ⏳ 第 5 章：你的第一個專業化 Agent
**核心專案**: 建構代碼架構審查 Agent
**學習成果**:
- 理解 Agent 與 Skill 的差異
- 設計 Agent 的獨立運作邏輯
- 實作任務委派機制

#### ⏳ 第 6 章：多 Agent 協作系統
**核心專案**: 建立重構協助 + 測試生成的協作系統
**學習成果**:
- 設計 Agent 間的通訊協議
- 實作任務分配與結果彙總
- 處理 Agent 衝突與優先級

#### ⏳ 第 7 章：錯誤除錯與自動修復 Agent
**核心專案**: 建構智能除錯助手
**學習成果**:
- 分析錯誤訊息的模式識別
- 實作自動化根因分析
- 設計修復建議系統

#### ⏳ 第 8 章：文件生成與同步 Agent
**核心專案**: 自動生成 API 文件並保持同步
**學習成果**:
- 從程式碼提取結構化資訊
- 實作文件模板系統
- 設計變更檢測機制

### 第三部分：實戰篇 - 企業級應用（Chapters 9-11）

#### ⏳ 第 9 章：從 10 萬行到 30 萬行的重構實戰
**核心專案**: 完整的微服務遷移案例
**學習成果**:
- 規劃大規模重構策略
- 管理技術債務
- 處理資料遷移與相容性

#### ⏳ 第 10 章：團隊協作中的技能共享
**核心專案**: 建立團隊技能庫與審查流程
**學習成果**:
- 設計技能版本控制
- 實作技能審查機制
- 建立使用分析系統

#### ⏳ 第 11 章：效能優化與成本控制
**核心專案**: Token 使用分析與優化系統
**學習成果**:
- 監控 API 調用成本
- 優化上下文視窗使用
- 實作快取與批次處理

### 第四部分：進化篇 - 持續改進（Chapters 12-13）

#### ⏳ 第 12 章：技能生命週期管理
**核心專案**: 建立技能評估與棄用系統
**學習成果**:
- 設計技能質量指標
- 實作自動化測試
- 建立棄用遷移流程

#### ⏳ 第 13 章：未來展望與最佳實踐
**核心專案**: 構建自適應學習系統
**學習成果**:
- 探索 AI 驅動的技能優化
- 設計自動化配置生成
- 展望未來發展方向

### 附錄

#### 附錄 A：完整範例專案架構
- 6 個微服務的完整 `.claude/` 配置
- 50+ 生產驗證的技能模組
- 10 個 Agents 的完整實作

#### 附錄 B：故障排除指南
- 常見問題與解決方案
- Hook 除錯技巧
- 效能問題診斷

#### 附錄 C：技能與 Agent 模板庫
- 前端開發技能模板
- 後端開發技能模板
- DevOps 技能模板
- 測試與 QA 技能模板

---

## 寫作進度

| 章節 | 狀態 | 完成日期 | 字數 | 備註 |
|------|------|----------|------|------|
| 第 1 章 | 🟡 進行中 | - | - | 核心 Hook 實作 |
| 第 2 章 | ⚪ 未開始 | - | - | - |
| 第 3 章 | ⚪ 未開始 | - | - | - |
| 第 4 章 | ⚪ 未開始 | - | - | - |
| 第 5 章 | ⚪ 未開始 | - | - | - |
| 第 6 章 | ⚪ 未開始 | - | - | - |
| 第 7 章 | ⚪ 未開始 | - | - | - |
| 第 8 章 | ⚪ 未開始 | - | - | - |
| 第 9 章 | ⚪ 未開始 | - | - | - |
| 第 10 章 | ⚪ 未開始 | - | - | - |
| 第 11 章 | ⚪ 未開始 | - | - | - |
| 第 12 章 | ⚪ 未開始 | - | - | - |
| 第 13 章 | ⚪ 未開始 | - | - | - |

**整體進度**: 1/13 章節（7.7%）

---

## 技術棧

### 核心技術
- **AI 平台**: Claude (Anthropic)
- **開發工具**: Claude Code (AI-powered IDE)
- **語言**: TypeScript, Python, Bash
- **配置格式**: JSON, YAML, Markdown

### 範例專案技術棧
- **前端**: React 19, TypeScript 5.8, Material UI v7
- **後端**: Node.js, NestJS, Express
- **資料庫**: PostgreSQL, Redis
- **DevOps**: Docker, Kubernetes, GitHub Actions
- **監控**: Prometheus, Grafana

### 開發環境
- **Node.js**: 18+ (用於 Hooks 執行)
- **Shell**: Bash 4.0+ (用於腳本整合)
- **編輯器**: Claude Code, VS Code（參考）

---

## 預期讀者成果

完成本書後，讀者將能夠：

1. **建立完整的 AI 開發基礎設施**
   - 自動激活系統（Hooks + 技能規則）
   - 模組化技能庫（20+ 技能模組）
   - 專業化 Agents（10+ 生產級實作）

2. **提升開發效率 3-5 倍**
   - 減少 80% 的重複性任務
   - 降低 65% 的 API 成本
   - 提升 90% 的程式碼品質

3. **建立可擴展的知識管理系統**
   - 團隊共享的技能庫
   - 自動化的文件同步
   - 持續改進的反饋機制

4. **掌握企業級最佳實踐**
   - 大規模專案重構策略
   - 團隊協作流程設計
   - 成本控制與效能優化

---

## 與其他書籍的差異

| 面向 | 本書 | LangChain/LlamaIndex 書籍 | 一般 AI 開發書 |
|------|------|---------------------------|----------------|
| **焦點** | 開發環境基礎設施 | LLM 應用開發 | AI 模型使用 |
| **目標** | 提升開發效率 | 建構 AI 產品 | 理解 AI 原理 |
| **實踐深度** | 6 個月企業專案 | 示範性範例 | 教學範例 |
| **工程化程度** | 高（完整 CI/CD） | 中（基本框架） | 低（程式碼片段） |
| **團隊協作** | 深度討論 | 簡單提及 | 不涉及 |
| **成本管理** | 專章討論 | 不涉及 | 不涉及 |

---

## 授權與使用

- **書籍內容**: 版權所有 © 2025
- **程式碼範例**: MIT License
- **參考專案**: [claude-code-infrastructure-showcase](https://github.com/diet103/claude-code-infrastructure-showcase)

---

## 聯絡資訊

- **作者**: [待定]
- **技術審稿**: [待定]
- **出版社**: Manning Publications（目標）
- **專案倉庫**: [待建立]

---

**最後更新**: 2025-11-10
**版本**: 0.1.0（初始規劃）
