# 附錄 C：常用提示詞模板庫

## C.1 基礎 I-B-C 模板

### 通用任務模板

```
【Intent（意圖）】

## User Story
作為一個 {角色}，
我希望 {功能/行為}，
這樣我就可以 {價值/目的}。

## 背景
- {背景資訊 1}
- {背景資訊 2}

---

【Behavior（行為）】

## 功能規格
{詳細的功能描述}

## API/介面規格（如適用）
- 輸入：{輸入格式}
- 輸出：{輸出格式}
- 錯誤處理：{錯誤情況}

## 測試案例
def test_{功能}_{情況}():
    {測試程式碼}

---

【Context（上下文）】

## 技術棧
- 語言：{語言}
- 框架：{框架}
- 資料庫：{資料庫}

## 現有架構
- {檔案/模組位置}
- {參考程式碼}

## 注意事項
- {限制 1}
- {限制 2}
```

---

## C.2 常見任務模板

### API 開發模板

```
【Intent】
實作 {API 名稱}，讓 {使用者} 可以 {功能}。

【Behavior】

## API 規格

### {HTTP 方法} {路徑}

請求：
```json
{
  "field1": "type",
  "field2": "type"
}
```

回應（成功）：
```json
{
  "data": {...}
}
```

回應（錯誤）：
- {狀態碼}: {描述}

## 測試案例
- 正常情況：...
- 錯誤情況：...
- 邊界情況：...

【Context】
- 路由放在 routers/{name}.py
- 使用現有的 {model} 模型
- 參考 routers/{reference}.py 的風格
```

---

### 資料庫模型模板

```
【Intent】
建立 {模型名稱} 資料模型，用於儲存 {資料用途}。

【Behavior】

## 欄位定義
| 欄位名 | 類型 | 說明 | 約束 |
|--------|------|------|------|
| id | UUID | 主鍵 | PK |
| {field} | {type} | {desc} | {constraint} |

## 關聯
- {關聯描述}

## 索引
- {索引欄位}

【Context】
- 使用 SQLAlchemy 2.0
- 模型放在 models/{name}.py
- 參考 models/user.py 的風格
```

---

### Bug 修復模板

```
【Intent】
修復 {bug 描述}。

【Behavior】

## 問題描述
- 現象：{現象}
- 影響：{影響範圍}

## 重現步驟
1. {步驟 1}
2. {步驟 2}
3. {步驟 3}

## 預期 vs 實際
- 預期：{預期行為}
- 實際：{實際行為}

## 修復驗證
修復後，以下測試應該通過：
```python
def test_bug_fix():
    {測試程式碼}
```

【Context】
- 問題程式碼位置：{檔案:行數}
- 相關 ticket：{ticket 編號}
```

---

### 重構模板

```
【Intent】
重構 {目標}，目的是 {重構目標}。

【Behavior】

## 重構前
- 問題：{問題描述}
- 位置：{檔案位置}

## 重構後
- 預期結構：{描述}
- 變更清單：
  - {變更 1}
  - {變更 2}

## 驗證
- 所有現有測試必須通過
- 沒有功能性變更

【Context】
- 相關測試在 tests/{test_file}.py
- 不要改變公開 API
- 保持向後相容
```

---

### 效能優化模板

```
【Intent】
優化 {目標} 的效能，目標是 {效能指標}。

【Behavior】

## 當前狀況
- 指標：{當前效能}
- 瓶頸：{瓶頸位置}

## 目標
- {效能目標}

## 驗證方法
{如何驗證效能提升}

【Context】
- 資料量：{資料規模}
- 限制：{資源限制}
- 不能影響：{功能限制}
```

---

## C.3 Review 模板

### Code Review 請求

```
請 review 以下程式碼變更：

## 變更摘要
{變更摘要}

## 檔案清單
- {檔案 1}
- {檔案 2}

## Review 重點
請特別檢查：
1. {重點 1}
2. {重點 2}

## Review Checklist
- [ ] 功能正確性
- [ ] 效能考量
- [ ] 安全性
- [ ] 程式碼品質
```

---

### Review 回饋模板

```
【問題】
{問題描述}

【位置】
{檔案:行數}

【嚴重程度】
🔴 Critical / 🟡 Warning / 🔵 Suggestion

【說明】
{為什麼這是問題}

【建議】
{如何修正}
```

---

## C.4 專案設定模板

### .claude/README.md

```markdown
# AI 協作指南

## 專案概覽
{專案簡介}

## 快速開始
1. 閱讀 CONVENTIONS.md 了解編碼規範
2. 查看 ARCHITECTURE.md 了解架構
3. 遇到專有名詞查 GLOSSARY.md

## 常見任務
- 新增 API：參考 COMMON_TASKS.md#新增API
- 修復 bug：參考 COMMON_TASKS.md#修復bug

## 注意事項
- {注意事項 1}
- {注意事項 2}
```

---

### .claude/CONVENTIONS.md

```markdown
# 編碼規範

## 程式碼風格
- 使用 {formatter}
- 遵循 {style guide}

## 命名慣例
- 檔案名：{convention}
- 類別名：{convention}
- 函數名：{convention}

## 架構慣例
- 路由：{位置}
- 服務：{位置}
- 模型：{位置}

## 測試慣例
- 命名：{convention}
- 位置：{位置}
```
