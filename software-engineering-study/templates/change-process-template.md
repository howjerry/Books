# 變更管理流程（Change Management Process）

> 專案：[專案名稱]
> 版本：1.0
> 生效日期：YYYY-MM-DD

---

## 1. 目的

本文件定義軟體變更的管理流程，確保所有變更：
- 經過適當評估和審核
- 風險被識別和緩解
- 可追溯和可回滾
- 影響被充分溝通

---

## 2. 適用範圍

| 適用 | 不適用 |
|------|--------|
| 程式碼變更 | 開發環境配置 |
| 配置變更 | 個人開發分支 |
| 資料庫變更 | 文件草稿 |
| 基礎設施變更 | |

---

## 3. 變更分類

### 3.1 按影響程度

| 等級 | 定義 | 審核要求 | 範例 |
|------|------|----------|------|
| **緊急** | 解決生產事故 | 事後審核 | 熱修復 |
| **標準** | 計畫內變更 | 正常審核 | 新功能、Bug 修復 |
| **重大** | 影響架構或多系統 | 架構審核 + CAB | 架構變更、DB Migration |

### 3.2 按變更類型

| 類型 | 說明 |
|------|------|
| 功能變更 | 新增或修改功能 |
| 缺陷修復 | 修正已知問題 |
| 效能優化 | 提升系統效能 |
| 安全修補 | 修復安全漏洞 |
| 維護變更 | 重構、技術債處理 |
| 配置變更 | 系統參數調整 |

---

## 4. 變更流程

```
┌──────────┐     ┌──────────┐     ┌──────────┐     ┌──────────┐
│   提交   │ ──▶ │   評估   │ ──▶ │   審核   │ ──▶ │   實施   │
└──────────┘     └──────────┘     └──────────┘     └──────────┘
                                        │                │
                                        ▼                ▼
                                  ┌──────────┐     ┌──────────┐
                                  │   駁回   │     │   驗證   │
                                  └──────────┘     └──────────┘
                                                        │
                                                        ▼
                                                  ┌──────────┐
                                                  │   關閉   │
                                                  └──────────┘
```

### 4.1 提交（Submit）

**負責人**：變更發起人

**輸入**：
- 變更需求/問題描述

**動作**：
- [ ] 填寫變更請求單
- [ ] 描述變更內容和原因
- [ ] 評估影響範圍
- [ ] 提出測試計畫
- [ ] 準備回滾計畫

**輸出**：
- 變更請求單（CR）

---

### 4.2 評估（Assess）

**負責人**：技術負責人

**輸入**：
- 變更請求單

**動作**：
- [ ] 技術可行性評估
- [ ] 影響分析
- [ ] 風險評估
- [ ] 資源評估
- [ ] 決定變更等級

**輸出**：
- 評估結果
- 核准/駁回/需更多資訊

---

### 4.3 審核（Review）

**負責人**：依變更等級

| 等級 | 審核者 |
|------|--------|
| 緊急 | 值班經理（事後 CAB 審核） |
| 標準 | 技術負責人 + 相關 Owner |
| 重大 | CAB（變更諮詢委員會） |

**動作**：
- [ ] Code Review
- [ ] 架構審核（如需要）
- [ ] 安全審核（如需要）
- [ ] 測試計畫審核
- [ ] 回滾計畫審核

**輸出**：
- 核准/駁回
- 條件式核准

---

### 4.4 實施（Implement）

**負責人**：變更實施者

**動作**：
- [ ] 通知相關人員
- [ ] 備份（如需要）
- [ ] 執行變更
- [ ] 記錄執行過程

**輸出**：
- 實施記錄

---

### 4.5 驗證（Verify）

**負責人**：QA / 驗證者

**動作**：
- [ ] 執行測試計畫
- [ ] 驗證變更目標達成
- [ ] 確認無副作用
- [ ] 監控系統狀態

**輸出**：
- 驗證結果
- 通過/需回滾

---

### 4.6 關閉（Close）

**負責人**：變更管理者

**動作**：
- [ ] 確認所有驗證通過
- [ ] 更新文件
- [ ] 記錄經驗教訓
- [ ] 關閉變更請求

**輸出**：
- 變更完成通知

---

## 5. 變更請求單模板

### CR-[編號]：[變更標題]

| 項目 | 內容 |
|------|------|
| **請求人** | |
| **請求日期** | |
| **變更類型** | |
| **變更等級** | |
| **優先級** | |
| **目標環境** | |
| **計畫實施日期** | |

#### 變更描述

**變更內容**：

**變更原因**：

**預期效益**：

#### 影響分析

| 影響面向 | 說明 |
|----------|------|
| 系統/模組 | |
| 相依服務 | |
| 使用者 | |
| 效能 | |
| 安全 | |

#### 風險評估

| 風險 | 機率 | 影響 | 緩解措施 |
|------|------|------|----------|
| | | | |

#### 測試計畫

- [ ] 單元測試
- [ ] 整合測試
- [ ] 煙霧測試
- [ ] 其他：

#### 回滾計畫

**回滾條件**：

**回滾步驟**：
1.
2.
3.

**預估回滾時間**：

#### 溝通計畫

| 對象 | 方式 | 時機 |
|------|------|------|
| | | |

#### 核准記錄

| 角色 | 姓名 | 日期 | 決定 |
|------|------|------|------|
| 技術負責人 | | | |
| 架構師 | | | |
| 安全審核 | | | |

---

## 6. 緊急變更流程

```
事故發生 → 臨時修復 → 事後審核 → 記錄 → 改善
```

### 6.1 緊急變更條件

- 生產事故影響用戶
- 安全漏洞被利用
- 資料遺失風險

### 6.2 緊急變更要求

- [ ] 取得值班經理口頭核准
- [ ] 實施後 24 小時內補填 CR
- [ ] 48 小時內完成事後審核
- [ ] 記錄經驗教訓

---

## 7. 度量指標

| 指標 | 目標 | 計算方式 |
|------|------|----------|
| 變更成功率 | ≥ 95% | 成功變更 / 總變更 |
| 變更回滾率 | ≤ 5% | 回滾變更 / 總變更 |
| 變更導致事故率 | ≤ 2% | 導致事故的變更 / 總變更 |
| 平均審核時間 | ≤ 2 天 | 從提交到核准的時間 |
| 緊急變更比例 | ≤ 10% | 緊急變更 / 總變更 |

---

## 8. 角色與責任

| 角色 | 責任 |
|------|------|
| 變更發起人 | 填寫 CR、準備測試和回滾計畫 |
| 技術負責人 | 技術評估、標準變更審核 |
| CAB | 重大變更審核 |
| 實施者 | 執行變更、記錄過程 |
| 驗證者 | 驗證變更結果 |
| 變更管理者 | 流程管理、度量報告 |

---

## 變更歷史

| 版本 | 日期 | 變更內容 | 變更者 |
|------|------|----------|--------|
| 1.0 | | 初版 | |
