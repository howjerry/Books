# 第28章　軟體流程改善

> 「改善不是目的地，而是旅程。」

---

## 28.1 什麼是流程改善？

### 28.1.1 流程改善的定義

**軟體流程改善（Software Process Improvement, SPI）**：透過系統性的方法，持續改善軟體開發流程，以提高品質、效率和可預測性。

| 目標 | 說明 |
|------|------|
| **提高品質** | 減少缺陷，提高產品品質 |
| **提高效率** | 用更少的資源完成更多工作 |
| **提高可預測性** | 更準確的估算和交付 |
| **降低成本** | 減少浪費和返工 |
| **提高滿意度** | 客戶和團隊都更滿意 |

### 28.1.2 為什麼需要流程改善？

**不改善的後果**：

```
┌──────────────────────────────────────────────────────────────┐
│                     不改善的惡性循環                          │
│                                                              │
│   問題重複發生                                                │
│        ↓                                                     │
│   效率持續低下                                                │
│        ↓                                                     │
│   品質無法提升                                                │
│        ↓                                                     │
│   團隊士氣下降                                                │
│        ↓                                                     │
│   更多問題發生 ─────────────────┐                            │
│        ↑                        │                            │
│        └────────────────────────┘                            │
└──────────────────────────────────────────────────────────────┘
```

**改善的價值**：

| 面向 | 改善前 | 改善後 |
|------|--------|--------|
| 缺陷率 | 高 | 降低 50%+ |
| 交付時間 | 不可預測 | 可預測 |
| 返工率 | 高 | 降低 40%+ |
| 團隊滿意度 | 低 | 提高 |
| 客戶滿意度 | 不穩定 | 穩定提高 |

### 28.1.3 流程改善的層次

```
┌──────────────────────────────────────────────────────────────┐
│                     流程改善的層次                            │
│                                                              │
│   ┌──────────────────────────────────────────────────────┐  │
│   │                   組織層級                            │  │
│   │   策略性改善、能力建設、文化變革                       │  │
│   │                                                       │  │
│   │   ┌────────────────────────────────────────────────┐ │  │
│   │   │                專案層級                         │ │  │
│   │   │   流程調整、工具採用、實踐改進                   │ │  │
│   │   │                                                 │ │  │
│   │   │   ┌──────────────────────────────────────────┐│ │  │
│   │   │   │              個人層級                     ││ │  │
│   │   │   │   技能提升、習慣養成、效率工具            ││ │  │
│   │   │   └──────────────────────────────────────────┘│ │  │
│   │   └────────────────────────────────────────────────┘ │  │
│   └──────────────────────────────────────────────────────┘  │
└──────────────────────────────────────────────────────────────┘
```

---

## 28.2 CMMI：能力成熟度模型

### 28.2.1 什麼是 CMMI？

**CMMI（Capability Maturity Model Integration）**：評估和改善組織流程能力的框架。

```
┌──────────────────────────────────────────────────────────────┐
│                      CMMI 五個等級                           │
│                                                              │
│  Level 5 ─────── 優化 (Optimizing) ─────── 持續改善         │
│     ↑              重點：創新、優化                          │
│     │                                                        │
│  Level 4 ─────── 量化管理 (Quantitatively Managed)          │
│     ↑              重點：統計控制                            │
│     │                                                        │
│  Level 3 ─────── 定義 (Defined) ─────────── 標準化流程      │
│     ↑              重點：組織標準                            │
│     │                                                        │
│  Level 2 ─────── 管理 (Managed) ─────────── 專案管理        │
│     ↑              重點：專案控制                            │
│     │                                                        │
│  Level 1 ─────── 初始 (Initial) ─────────── 混亂            │
│                    特點：英雄主義                            │
└──────────────────────────────────────────────────────────────┘
```

### 28.2.2 各等級詳解

| 等級 | 名稱 | 特徵 | 問題 |
|------|------|------|------|
| **Level 1** | 初始 | 混亂、靠英雄 | 不可預測 |
| **Level 2** | 管理 | 專案層級管理 | 組織能力不一致 |
| **Level 3** | 定義 | 組織標準流程 | 缺乏量化 |
| **Level 4** | 量化管理 | 統計過程控制 | 可能僵化 |
| **Level 5** | 優化 | 持續改善 | 維持動力 |

### 28.2.3 Level 2：管理級的關鍵實踐

| 過程領域 | 目的 |
|----------|------|
| **需求管理** | 管理需求和變更 |
| **專案規劃** | 建立和維護計畫 |
| **專案監控** | 追蹤進度 |
| **供應商管理** | 管理外包 |
| **度量分析** | 收集和分析數據 |
| **品質保證** | 確保流程品質 |
| **組態管理** | 管理工作產品 |

### 28.2.4 CMMI 的價值與批評

**價值**：

| 面向 | 效益 |
|------|------|
| 標準化 | 提供通用語言和框架 |
| 可見性 | 知道目前在哪裡 |
| 路線圖 | 知道往哪裡走 |
| 基準 | 可以和他人比較 |

**批評**：

| 批評 | 反駁 |
|------|------|
| 太重、太官僚 | 可以輕量化採用 |
| 不適合敏捷 | CMMI 和敏捷可以共存 |
| 只是證書遊戲 | 看你怎麼用 |
| 過度強調流程 | 人仍然是核心 |

---

## 28.3 PDCA 循環

### 28.3.1 什麼是 PDCA？

**PDCA（Plan-Do-Check-Act）**：持續改善的基本循環。

```
┌──────────────────────────────────────────────────────────────┐
│                       PDCA 循環                              │
│                                                              │
│                    ┌─────────────┐                          │
│                    │    Plan     │                          │
│                    │    規劃     │                          │
│                    │   識別問題   │                          │
│                    │   制定計畫   │                          │
│                    └──────┬──────┘                          │
│                           │                                  │
│     ┌─────────────┐       │       ┌─────────────┐          │
│     │    Act      │◄──────┴──────►│    Do       │          │
│     │    行動     │               │    執行     │          │
│     │   標準化    │               │   實施計畫   │          │
│     │   或調整    │               │   收集資料   │          │
│     └──────┬──────┘               └──────┬──────┘          │
│            │                             │                  │
│            │       ┌─────────────┐       │                  │
│            └──────►│   Check     │◄──────┘                  │
│                    │    檢查     │                          │
│                    │   評估結果   │                          │
│                    │   分析差距   │                          │
│                    └─────────────┘                          │
│                                                              │
│              循環不止，持續改善                               │
└──────────────────────────────────────────────────────────────┘
```

### 28.3.2 PDCA 各階段詳解

| 階段 | 活動 | 工具 |
|------|------|------|
| **Plan** | 識別問題、分析原因、制定計畫 | 魚骨圖、5 Whys |
| **Do** | 小規模試行、收集資料 | 試驗設計 |
| **Check** | 分析結果、比較預期 | 統計分析 |
| **Act** | 標準化或調整 | 流程文件 |

### 28.3.3 PDCA 範例：減少程式碼審查時間

| 階段 | 活動 |
|------|------|
| **Plan** | 問題：審查平均需要 3 天。目標：降到 1 天。策略：限制 PR 大小 |
| **Do** | 試行 2 週，限制 PR < 400 行 |
| **Check** | 結果：審查時間降到 1.5 天。分析：大 PR 拆分有效 |
| **Act** | 標準化：PR 限制寫入規範。進入下一循環 |

---

## 28.4 精實與持續改善

### 28.4.1 精實軟體開發

**精實（Lean）**原則應用於軟體開發：

| 原則 | 軟體開發應用 |
|------|--------------|
| **消除浪費** | 減少不必要的功能、文件、等待 |
| **增強學習** | 快速反饋、實驗、回顧 |
| **延遲決策** | 保持選項開放，最後責任時刻決策 |
| **快速交付** | 小批量、頻繁交付 |
| **授權團隊** | 自組織團隊，現場決策 |
| **建立品質** | 內建品質，而非事後檢驗 |
| **優化整體** | 關注端到端流程 |

### 28.4.2 七種浪費

```
┌──────────────────────────────────────────────────────────────┐
│                    軟體開發的七種浪費                         │
│                                                              │
│  1. 部分完成的工作                                           │
│     └── 進行中但未交付的功能                                  │
│                                                              │
│  2. 額外的流程                                               │
│     └── 不增加價值的審批、文件                                │
│                                                              │
│  3. 額外的功能                                               │
│     └── YAGNI (You Ain't Gonna Need It)                     │
│                                                              │
│  4. 任務切換                                                 │
│     └── 多任務並行造成的效率損失                              │
│                                                              │
│  5. 等待                                                     │
│     └── 等審批、等其他團隊、等部署                            │
│                                                              │
│  6. 移動                                                     │
│     └── 交接、知識轉移                                        │
│                                                              │
│  7. 缺陷                                                     │
│     └── Bug 修復、返工                                        │
└──────────────────────────────────────────────────────────────┘
```

### 28.4.3 Kaizen：持續改善

**Kaizen（改善）**：每天進行小改善。

| 原則 | 說明 |
|------|------|
| **持續** | 每天都在改善 |
| **漸進** | 小步快跑 |
| **全員** | 每個人都參與 |
| **現場** | 在工作現場改善 |

**Kaizen 實踐**：

| 實踐 | 說明 |
|------|------|
| **5S** | 整理、整頓、清掃、清潔、素養 |
| **Gemba Walk** | 管理者到現場觀察 |
| **Kaizen Event** | 集中改善活動 |
| **Suggestion System** | 建議系統 |

---

## 28.5 回顧會議（Retrospective）

### 28.5.1 回顧的目的

回顧是敏捷中最重要的改善機制。

| 目的 | 說明 |
|------|------|
| **反思** | 停下來思考 |
| **學習** | 從經驗中學習 |
| **改善** | 識別改善機會 |
| **團隊建設** | 增進團隊凝聚力 |

### 28.5.2 回顧的結構

```
┌──────────────────────────────────────────────────────────────┐
│                    回顧會議結構                               │
│                                                              │
│  ┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────┐│
│  │ 開場    │─►│ 收集    │─►│ 洞察    │─►│ 決定    │─►│結束 ││
│  │ 5分鐘   │  │ 15分鐘  │  │ 20分鐘  │  │ 15分鐘  │  │5分鐘││
│  └─────────┘  └─────────┘  └─────────┘  └─────────┘  └─────┘│
│                                                              │
│  開場：設定安全氛圍、說明規則                                  │
│  收集：蒐集資料、發生了什麼                                   │
│  洞察：找出原因、識別模式                                     │
│  決定：選擇行動、明確負責                                     │
│  結束：感謝、回饋                                             │
└──────────────────────────────────────────────────────────────┘
```

### 28.5.3 常見回顧技巧

| 技巧 | 適用情境 |
|------|----------|
| **Start-Stop-Continue** | 簡單、快速 |
| **4Ls** | Liked, Learned, Lacked, Longed for |
| **Sailboat** | 視覺化、有趣 |
| **Timeline** | 時間線回顧 |
| **5 Whys** | 深入問題分析 |

### 28.5.4 回顧的反模式

| 反模式 | 問題 | 解法 |
|--------|------|------|
| **沒有行動** | 討論很多，沒有結論 | 明確行動項目 |
| **總是同樣的問題** | 沒有追蹤 | 追蹤改善成效 |
| **只有批評** | 打擊士氣 | 平衡正面和負面 |
| **沉默** | 不敢說 | 建立心理安全 |
| **責備** | 找人負責 | 專注系統改善 |

---

## 28.6 度量驅動的改善

### 28.6.1 用數據說話

| 原則 | 說明 |
|------|------|
| **基線** | 知道現在在哪裡 |
| **目標** | 知道要到哪裡 |
| **追蹤** | 知道是否在進步 |
| **分析** | 知道為什麼 |

### 28.6.2 改善指標選擇

| 類型 | 指標 | 用途 |
|------|------|------|
| **品質** | 缺陷密度、逃逸缺陷 | 衡量品質改善 |
| **效率** | Cycle Time、Throughput | 衡量效率改善 |
| **穩定** | 失敗率、MTTR | 衡量穩定性改善 |
| **滿意度** | NPS、員工滿意度 | 衡量滿意度改善 |

### 28.6.3 改善儀表板

```
┌──────────────────────────────────────────────────────────────┐
│                    改善儀表板                                 │
│                                                              │
│  ┌─────────────────────────┐  ┌─────────────────────────┐  │
│  │     Cycle Time         │  │     缺陷密度            │  │
│  │                        │  │                         │  │
│  │  ───────────           │  │        ────────         │  │
│  │         ───────────    │  │   ─────                 │  │
│  │                        │  │                         │  │
│  │  目標: 3天  現況: 5天   │  │  目標: 1  現況: 2.5     │  │
│  │  趨勢: ↓ 改善中        │  │  趨勢: ↓ 改善中         │  │
│  └─────────────────────────┘  └─────────────────────────┘  │
│                                                              │
│  ┌─────────────────────────────────────────────────────────┐│
│  │                    改善行動追蹤                          ││
│  │                                                          ││
│  │  [✓] 實施 TDD（本月）                                    ││
│  │  [→] 減少 PR 大小（進行中）                              ││
│  │  [ ] 自動化部署（下月）                                  ││
│  └─────────────────────────────────────────────────────────┘│
└──────────────────────────────────────────────────────────────┘
```

---

## 28.7 變革管理

### 28.7.1 變革的挑戰

流程改善 = 變革。變革最大的挑戰是人。

```
┌──────────────────────────────────────────────────────────────┐
│                    變革的情緒曲線                             │
│                                                              │
│   高 ┤                                                       │
│      │  ╭─╮                                    ╭───────      │
│   中 ┤  │ │                                ╭───╯            │
│      │  │ ╰─╮                          ╭───╯                │
│      │ ─╯   │                      ╭───╯                    │
│   低 ┤      ╰───╮              ╭───╯                        │
│      │          ╰──────────────╯                            │
│      └───────────────────────────────────────────────►      │
│         震驚  否認  憤怒  議價  抑鬱  接受  整合            │
└──────────────────────────────────────────────────────────────┘
```

### 28.7.2 Kotter 八步變革

| 步驟 | 活動 |
|------|------|
| 1. 緊迫感 | 為什麼要改變？ |
| 2. 領導聯盟 | 誰來推動？ |
| 3. 願景 | 改變後會怎樣？ |
| 4. 溝通願景 | 讓每個人知道 |
| 5. 授權行動 | 移除障礙 |
| 6. 短期勝利 | 快速見效 |
| 7. 鞏固成果 | 持續改進 |
| 8. 固化文化 | 成為習慣 |

### 28.7.3 應對抗拒

| 抗拒類型 | 表現 | 應對 |
|----------|------|------|
| **認知抗拒** | 「這不會成功」 | 提供證據、案例 |
| **情緒抗拒** | 「我不喜歡」 | 傾聽、同理 |
| **行為抗拒** | 「我不會做」 | 培訓、支援 |
| **政治抗拒** | 「這威脅我的地位」 | 利益調整 |

---

## 28.8 本章總結

### 核心概念

| 概念 | 一句話解釋 |
|------|-----------|
| 流程改善 | 持續改善開發流程 |
| CMMI | 能力成熟度評估框架 |
| PDCA | 規劃-執行-檢查-行動循環 |
| Lean | 消除浪費的精實思維 |
| Kaizen | 每天持續小改善 |
| Retrospective | 團隊反思和改善會議 |

### 改善方法速查

| 方法 | 適用 | 重點 |
|------|------|------|
| CMMI | 組織級、認證需求 | 流程標準化 |
| PDCA | 所有改善 | 循環式改善 |
| Lean | 消除浪費 | 價值流優化 |
| Kaizen | 日常改善 | 小步快跑 |
| Retro | 團隊改善 | 定期反思 |

### 下一章預告

我們學習了如何改善流程。下一章我們將展望「軟體工程的新興趨勢」——AI、雲原生、DevOps 等正在改變軟體工程的新趨勢。

---

## 延伸思考

1. 你的團隊有定期回顧嗎？效果如何？

2. 你認為 CMMI 在敏捷時代還有價值嗎？

3. 改善過程中最大的阻力是什麼？

---

*下一章：第29章　軟體工程的新興趨勢*
